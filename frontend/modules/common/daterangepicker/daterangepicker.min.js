//! moment.js
//! version : 2.10.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):global.moment=factory()}(this,function(){'use strict';var hookCallback;function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return Object.prototype.toString.call(input)==='[object Array]'}function isDate(input){return input instanceof Date||Object.prototype.toString.call(input)==='[object Date]'}function map(arr,fn){var res=[],i;for(i=0;i<arr.length;++i){res.push(fn(arr[i],i))}return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b){if(hasOwnProp(b,i)){a[i]=b[i]}}if(hasOwnProp(b,'toString')){a.toString=b.toString}if(hasOwnProp(b,'valueOf')){a.valueOf=b.valueOf}return a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function getParsingFlags(m){if(m._pf==null){m._pf=defaultParsingFlags()}return m._pf}function valid__isValid(m){if(m._isValid==null){var flags=getParsingFlags(m);m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated;if(m._strict){m._isValid=m._isValid&&flags.charsLeftOver===0&&flags.unusedTokens.length===0&&flags.bigHour===undefined}}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(NaN);if(flags!=null){extend(getParsingFlags(m),flags)}else{getParsingFlags(m).userInvalidated=true}return m}var momentProperties=utils_hooks__hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(typeof from._isAMomentObject!=='undefined'){to._isAMomentObject=from._isAMomentObject}if(typeof from._i!=='undefined'){to._i=from._i}if(typeof from._f!=='undefined'){to._f=from._f}if(typeof from._l!=='undefined'){to._l=from._l}if(typeof from._strict!=='undefined'){to._strict=from._strict}if(typeof from._tzm!=='undefined'){to._tzm=from._tzm}if(typeof from._isUTC!=='undefined'){to._isUTC=from._isUTC}if(typeof from._offset!=='undefined'){to._offset=from._offset}if(typeof from._pf!=='undefined'){to._pf=getParsingFlags(from)}if(typeof from._locale!=='undefined'){to._locale=from._locale}if(momentProperties.length>0){for(i in momentProperties){prop=momentProperties[i];val=from[prop];if(typeof val!=='undefined'){to[prop]=val}}}return to}var updateInProgress=false;function Moment(config){copyConfig(this,config);this._d=new Date(+config._d);if(updateInProgress===false){updateInProgress=true;utils_hooks__hooks.updateOffset(this);updateInProgress=false}}function isMoment(obj){return obj instanceof Moment||(obj!=null&&obj._isAMomentObject!=null)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;if(coercedNumber!==0&&isFinite(coercedNumber)){if(coercedNumber>=0){value=Math.floor(coercedNumber)}else{value=Math.ceil(coercedNumber)}}return value}function compareArrays(array1,array2,dontConvert){var len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0,i;for(i=0;i<len;i++){if((dontConvert&&array1[i]!==array2[i])||(!dontConvert&&toInt(array1[i])!==toInt(array2[i]))){diffs++}}return diffs+lengthDiff}function Locale(){}var locales={};var globalLocale;function normalizeLocale(key){return key?key.toLowerCase().replace('_','-'):key}function chooseLocale(names){var i=0,j,next,locale,split;while(i<names.length){split=normalizeLocale(names[i]).split('-');j=split.length;next=normalizeLocale(names[i+1]);next=next?next.split('-'):null;while(j>0){locale=loadLocale(split.slice(0,j).join('-'));if(locale){return locale}if(next&&next.length>=j&&compareArrays(split,next,true)>=j-1){break}j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&typeof module!=='undefined'&&module&&module.exports){try{oldLocale=globalLocale._abbr;require('./locale/'+name);locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;if(key){if(typeof values==='undefined'){data=locale_locales__getLocale(key)}else{data=defineLocale(key,values)}if(data){globalLocale=data}}return globalLocale._abbr}function defineLocale(name,values){if(values!==null){values.abbr=name;if(!locales[name]){locales[name]=new Locale()}locales[name].set(values);locale_locales__getSetGlobalLocale(name);return locales[name]}else{delete locales[name];return null}}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr){key=key._locale._abbr}if(!key){return globalLocale}if(!isArray(key)){locale=loadLocale(key);if(locale){return locale}key=[key]}return chooseLocale(key)}var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+'s']=aliases[shorthand]=unit}function normalizeUnits(units){return typeof units==='string'?aliases[units]||aliases[units.toLowerCase()]:undefined}function normalizeObjectUnits(inputObject){var normalizedInput={},normalizedProp,prop;for(prop in inputObject){if(hasOwnProp(inputObject,prop)){normalizedProp=normalizeUnits(prop);if(normalizedProp){normalizedInput[normalizedProp]=inputObject[prop]}}}return normalizedInput}function makeGetSet(unit,keepTime){return function(value){if(value!=null){get_set__set(this,unit,value);utils_hooks__hooks.updateOffset(this,keepTime);return this}else{return get_set__get(this,unit)}}}function get_set__get(mom,unit){return mom._d['get'+(mom._isUTC?'UTC':'')+unit]()}function get_set__set(mom,unit,value){return mom._d['set'+(mom._isUTC?'UTC':'')+unit](value)}function getSet(units,value){var unit;if(typeof units==='object'){for(unit in units){this.set(unit,units[unit])}}else{units=normalizeUnits(units);if(typeof this[units]==='function'){return this[units](value)}}return this}function zeroFill(number,targetLength,forceSign){var output=''+Math.abs(number),sign=number>=0;while(output.length<targetLength){output='0'+output}return(sign?(forceSign?'+':''):'-')+output}var formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g;var localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var formatFunctions={};var formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;if(typeof callback==='string'){func=function(){return this[callback]()}}if(token){formatTokenFunctions[token]=func}if(padded){formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}}if(ordinal){formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)}}}function removeFormattingTokens(input){if(input.match(/\[[\s\S]/)){return input.replace(/^\[|\]$/g,'')}return input.replace(/\\/g,'')}function makeFormatFunction(format){var array=format.match(formattingTokens),i,length;for(i=0,length=array.length;i<length;i++){if(formatTokenFunctions[array[i]]){array[i]=formatTokenFunctions[array[i]]}else{array[i]=removeFormattingTokens(array[i])}}return function(mom){var output='';for(i=0;i<length;i++){output+=array[i]instanceof Function?array[i].call(mom,format):array[i]}return output}}function formatMoment(m,format){if(!m.isValid()){return m.localeData().invalidDate()}format=expandFormat(format,m.localeData());if(!formatFunctions[format]){formatFunctions[format]=makeFormatFunction(format)}return formatFunctions[format](m)}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}localFormattingTokens.lastIndex=0;while(i>=0&&localFormattingTokens.test(format)){format=format.replace(localFormattingTokens,replaceLongDateFormatTokens);localFormattingTokens.lastIndex=0;i-=1}return format}var match1=/\d/;var match2=/\d\d/;var match3=/\d{3}/;var match4=/\d{4}/;var match6=/[+-]?\d{6}/;var match1to2=/\d\d?/;var match1to3=/\d{1,3}/;var match1to4=/\d{1,4}/;var match1to6=/[+-]?\d{1,6}/;var matchUnsigned=/\d+/;var matchSigned=/[+-]?\d+/;var matchOffset=/Z|[+-]\d\d:?\d\d/gi;var matchTimestamp=/[+-]?\d+(\.\d{1,3})?/;var matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=typeof regex==='function'?regex:function(isStrict){return(isStrict&&strictRegex)?strictRegex:regex}}function getParseRegexForToken(token,config){if(!hasOwnProp(regexes,token)){return new RegExp(unescapeFormat(token))}return regexes[token](config._strict,config._locale)}function unescapeFormat(s){return s.replace('\\','').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}).replace(/[-\/\\^$*+?.()|[\]{}]/g,'\\$&')}var tokens={};function addParseToken(token,callback){var i,func=callback;if(typeof token==='string'){token=[token]}if(typeof callback==='number'){func=function(input,array){array[callback]=toInt(input)}}for(i=0;i<token.length;i++){tokens[token[i]]=func}}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{};callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){if(input!=null&&hasOwnProp(tokens,token)){tokens[token](input,config._a,config,token)}}var YEAR=0;var MONTH=1;var DATE=2;var HOUR=3;var MINUTE=4;var SECOND=5;var MILLISECOND=6;function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}addFormatToken('M',['MM',2],'Mo',function(){return this.month()+1});addFormatToken('MMM',0,0,function(format){return this.localeData().monthsShort(this,format)});addFormatToken('MMMM',0,0,function(format){return this.localeData().months(this,format)});addUnitAlias('month','M');addRegexToken('M',match1to2);addRegexToken('MM',match1to2,match2);addRegexToken('MMM',matchWord);addRegexToken('MMMM',matchWord);addParseToken(['M','MM'],function(input,array){array[MONTH]=toInt(input)-1});addParseToken(['MMM','MMMM'],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);if(month!=null){array[MONTH]=month}else{getParsingFlags(config).invalidMonth=input}});var defaultLocaleMonths='January_February_March_April_May_June_July_August_September_October_November_December'.split('_');function localeMonths(m){return this._months[m.month()]}var defaultLocaleMonthsShort='Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');function localeMonthsShort(m){return this._monthsShort[m.month()]}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(i=0;i<12;i++){mom=create_utc__createUTC([2000,i]);if(strict&&!this._longMonthsParse[i]){this._longMonthsParse[i]=new RegExp('^'+this.months(mom,'').replace('.','')+'$','i');this._shortMonthsParse[i]=new RegExp('^'+this.monthsShort(mom,'').replace('.','')+'$','i')}if(!strict&&!this._monthsParse[i]){regex='^'+this.months(mom,'')+'|^'+this.monthsShort(mom,'');this._monthsParse[i]=new RegExp(regex.replace('.',''),'i')}if(strict&&format==='MMMM'&&this._longMonthsParse[i].test(monthName)){return i}else if(strict&&format==='MMM'&&this._shortMonthsParse[i].test(monthName)){return i}else if(!strict&&this._monthsParse[i].test(monthName)){return i}}}function setMonth(mom,value){var dayOfMonth;if(typeof value==='string'){value=mom.localeData().monthsParse(value);if(typeof value!=='number'){return mom}}dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value));mom._d['set'+(mom._isUTC?'UTC':'')+'Month'](value,dayOfMonth);return mom}function getSetMonth(value){if(value!=null){setMonth(this,value);utils_hooks__hooks.updateOffset(this,true);return this}else{return get_set__get(this,'Month')}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function checkOverflow(m){var overflow;var a=m._a;if(a&&getParsingFlags(m).overflow===-2){overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||(a[HOUR]===24&&(a[MINUTE]!==0||a[SECOND]!==0||a[MILLISECOND]!==0))?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1;if(getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)){overflow=DATE}getParsingFlags(m).overflow=overflow}return m}function warn(msg){if(utils_hooks__hooks.suppressDeprecationWarnings===false&&typeof console!=='undefined'&&console.warn){console.warn('Deprecation warning: '+msg)}}function deprecate(msg,fn){var firstTime=true,msgWithStack=msg+'\n'+(new Error()).stack;return extend(function(){if(firstTime){warn(msgWithStack);firstTime=false}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){if(!deprecations[name]){warn(msg);deprecations[name]=true}}utils_hooks__hooks.suppressDeprecationWarnings=false;var from_string__isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var isoDates=[['YYYYYY-MM-DD',/[+-]\d{6}-\d{2}-\d{2}/],['YYYY-MM-DD',/\d{4}-\d{2}-\d{2}/],['GGGG-[W]WW-E',/\d{4}-W\d{2}-\d/],['GGGG-[W]WW',/\d{4}-W\d{2}/],['YYYY-DDD',/\d{4}-\d{3}/]];var isoTimes=[['HH:mm:ss.SSSS',/(T| )\d\d:\d\d:\d\d\.\d+/],['HH:mm:ss',/(T| )\d\d:\d\d:\d\d/],['HH:mm',/(T| )\d\d:\d\d/],['HH',/(T| )\d\d/]];var aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,string=config._i,match=from_string__isoRegex.exec(string);if(match){getParsingFlags(config).iso=true;for(i=0,l=isoDates.length;i<l;i++){if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||' ');break}}for(i=0,l=isoTimes.length;i<l;i++){if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}}if(string.match(matchOffset)){config._f+='Z'}configFromStringAndFormat(config)}else{config._isValid=false}}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);if(matched!==null){config._d=new Date(+matched[1]);return}configFromISO(config);if(config._isValid===false){delete config._isValid;utils_hooks__hooks.createFromInputFallback(config)}}utils_hooks__hooks.createFromInputFallback=deprecate('moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.',function(config){config._d=new Date(config._i+(config._useUTC?' UTC':''))});function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);if(y<1970){date.setFullYear(y)}return date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));if(y<1970){date.setUTCFullYear(y)}return date}addFormatToken(0,['YY',2],0,function(){return this.year()%100});addFormatToken(0,['YYYY',4],0,'year');addFormatToken(0,['YYYYY',5],0,'year');addFormatToken(0,['YYYYYY',6,true],0,'year');addUnitAlias('year','y');addRegexToken('Y',matchSigned);addRegexToken('YY',match1to2,match2);addRegexToken('YYYY',match1to4,match4);addRegexToken('YYYYY',match1to6,match6);addRegexToken('YYYYYY',match1to6,match6);addParseToken(['YYYY','YYYYY','YYYYYY'],YEAR);addParseToken('YY',function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)});function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return(year%4===0&&year%100!==0)||year%400===0}utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2000)};var getSetYear=makeGetSet('FullYear',false);function getIsLeapYear(){return isLeapYear(this.year())}addFormatToken('w',['ww',2],'wo','week');addFormatToken('W',['WW',2],'Wo','isoWeek');addUnitAlias('week','w');addUnitAlias('isoWeek','W');addRegexToken('w',match1to2);addRegexToken('ww',match1to2,match2);addRegexToken('W',match1to2);addRegexToken('WW',match1to2,match2);addWeekParseToken(['w','ww','W','WW'],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day(),adjustedMoment;if(daysToDayOfWeek>end){daysToDayOfWeek-=7}if(daysToDayOfWeek<end-7){daysToDayOfWeek+=7}adjustedMoment=local__createLocal(mom).add(daysToDayOfWeek,'d');return{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return input==null?week:this.add((input-week)*7,'d')}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return input==null?week:this.add((input-week)*7,'d')}addFormatToken('DDD',['DDDD',3],'DDDo','dayOfYear');addUnitAlias('dayOfYear','DDD');addRegexToken('DDD',match1to3);addRegexToken('DDDD',match3);addParseToken(['DDD','DDDD'],function(input,array,config){config._dayOfYear=toInt(input)});function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var d=createUTCDate(year,0,1).getUTCDay();var daysToAdd;var dayOfYear;d=d===0?7:d;weekday=weekday!=null?weekday:firstDayOfWeek;daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(d<firstDayOfWeek?7:0);dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1;return{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf('day')-this.clone().startOf('year'))/864e5)+1;return input==null?dayOfYear:this.add((input-dayOfYear),'d')}function defaults(a,b,c){if(a!=null){return a}if(b!=null){return b}return c}function currentDateArray(config){var now=new Date();if(config._useUTC){return[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]}return[now.getFullYear(),now.getMonth(),now.getDate()]}function configFromArray(config){var i,date,input=[],currentDate,yearToUse;if(config._d){return}currentDate=currentDateArray(config);if(config._w&&config._a[DATE]==null&&config._a[MONTH]==null){dayOfYearFromWeekInfo(config)}if(config._dayOfYear){yearToUse=defaults(config._a[YEAR],currentDate[YEAR]);if(config._dayOfYear>daysInYear(yearToUse)){getParsingFlags(config)._overflowDayOfYear=true}date=createUTCDate(yearToUse,0,config._dayOfYear);config._a[MONTH]=date.getUTCMonth();config._a[DATE]=date.getUTCDate()}for(i=0;i<3&&config._a[i]==null;++i){config._a[i]=input[i]=currentDate[i]}for(;i<7;i++){config._a[i]=input[i]=(config._a[i]==null)?(i===2?1:0):config._a[i]}if(config._a[HOUR]===24&&config._a[MINUTE]===0&&config._a[SECOND]===0&&config._a[MILLISECOND]===0){config._nextDay=true;config._a[HOUR]=0}config._d=(config._useUTC?createUTCDate:createDate).apply(null,input);if(config._tzm!=null){config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm)}if(config._nextDay){config._a[HOUR]=24}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w;if(w.GG!=null||w.W!=null||w.E!=null){dow=1;doy=4;weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year);week=defaults(w.W,1);weekday=defaults(w.E,1)}else{dow=config._locale._week.dow;doy=config._locale._week.doy;weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year);week=defaults(w.w,1);if(w.d!=null){weekday=w.d;if(weekday<dow){++week}}else if(w.e!=null){weekday=w.e+dow}else{weekday=dow}}temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow);config._a[YEAR]=temp.year;config._dayOfYear=temp.dayOfYear}utils_hooks__hooks.ISO_8601=function(){};function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601){configFromISO(config);return}config._a=[];getParsingFlags(config).empty=true;var string=''+config._i,i,parsedInput,tokens,token,skipped,stringLength=string.length,totalParsedInputLength=0;tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[];for(i=0;i<tokens.length;i++){token=tokens[i];parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0];if(parsedInput){skipped=string.substr(0,string.indexOf(parsedInput));if(skipped.length>0){getParsingFlags(config).unusedInput.push(skipped)}string=string.slice(string.indexOf(parsedInput)+parsedInput.length);totalParsedInputLength+=parsedInput.length}if(formatTokenFunctions[token]){if(parsedInput){getParsingFlags(config).empty=false}else{getParsingFlags(config).unusedTokens.push(token)}addTimeToArrayFromToken(token,parsedInput,config)}else if(config._strict&&!parsedInput){getParsingFlags(config).unusedTokens.push(token)}}getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength;if(string.length>0){getParsingFlags(config).unusedInput.push(string)}if(getParsingFlags(config).bigHour===true&&config._a[HOUR]<=12&&config._a[HOUR]>0){getParsingFlags(config).bigHour=undefined}config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem);configFromArray(config);checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;if(meridiem==null){return hour}if(locale.meridiemHour!=null){return locale.meridiemHour(hour,meridiem)}else if(locale.isPM!=null){isPm=locale.isPM(meridiem);if(isPm&&hour<12){hour+=12}if(!isPm&&hour===12){hour=0}return hour}else{return hour}}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(config._f.length===0){getParsingFlags(config).invalidFormat=true;config._d=new Date(NaN);return}for(i=0;i<config._f.length;i++){currentScore=0;tempConfig=copyConfig({},config);if(config._useUTC!=null){tempConfig._useUTC=config._useUTC}tempConfig._f=config._f[i];configFromStringAndFormat(tempConfig);if(!valid__isValid(tempConfig)){continue}currentScore+=getParsingFlags(tempConfig).charsLeftOver;currentScore+=getParsingFlags(tempConfig).unusedTokens.length*10;getParsingFlags(tempConfig).score=currentScore;if(scoreToBeat==null||currentScore<scoreToBeat){scoreToBeat=currentScore;bestMoment=tempConfig}}extend(config,bestMoment||tempConfig)}function configFromObject(config){if(config._d){return}var i=normalizeObjectUnits(config._i);config._a=[i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond];configFromArray(config)}function createFromConfig(config){var input=config._i,format=config._f,res;config._locale=config._locale||locale_locales__getLocale(config._l);if(input===null||(format===undefined&&input==='')){return valid__createInvalid({nullInput:true})}if(typeof input==='string'){config._i=input=config._locale.preparse(input)}if(isMoment(input)){return new Moment(checkOverflow(input))}else if(isArray(format)){configFromStringAndArray(config)}else if(format){configFromStringAndFormat(config)}else if(isDate(input)){config._d=input}else{configFromInput(config)}res=new Moment(checkOverflow(config));if(res._nextDay){res.add(1,'d');res._nextDay=undefined}return res}function configFromInput(config){var input=config._i;if(input===undefined){config._d=new Date()}else if(isDate(input)){config._d=new Date(+input)}else if(typeof input==='string'){configFromString(config)}else if(isArray(input)){config._a=map(input.slice(0),function(obj){return parseInt(obj,10)});configFromArray(config)}else if(typeof(input)==='object'){configFromObject(config)}else if(typeof(input)==='number'){config._d=new Date(input)}else{utils_hooks__hooks.createFromInputFallback(config)}}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};if(typeof(locale)==='boolean'){strict=locale;locale=undefined}c._isAMomentObject=true;c._useUTC=c._isUTC=isUTC;c._l=locale;c._i=input;c._f=format;c._strict=strict;return createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,false)}var prototypeMin=deprecate('moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',function(){var other=local__createLocal.apply(null,arguments);return other<this?this:other});var prototypeMax=deprecate('moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',function(){var other=local__createLocal.apply(null,arguments);return other>this?this:other});function pickBy(fn,moments){var res,i;if(moments.length===1&&isArray(moments[0])){moments=moments[0]}if(!moments.length){return local__createLocal()}res=moments[0];for(i=1;i<moments.length;++i){if(moments[i][fn](res)){res=moments[i]}}return res}function min(){var args=[].slice.call(arguments,0);return pickBy('isBefore',args)}function max(){var args=[].slice.call(arguments,0);return pickBy('isAfter',args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+seconds*1e3+minutes*6e4+hours*36e5;this._days=+days+weeks*7;this._months=+months+quarters*3+years*12;this._data={};this._locale=locale_locales__getLocale();this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset();var sign='+';if(offset<0){offset=-offset;sign='-'}return sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~(offset)%60,2)})}offset('Z',':');offset('ZZ','');addRegexToken('Z',matchOffset);addRegexToken('ZZ',matchOffset);addParseToken(['Z','ZZ'],function(input,array,config){config._useUTC=true;config._tzm=offsetFromString(input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(string){var matches=((string||'').match(matchOffset)||[]);var chunk=matches[matches.length-1]||[];var parts=(chunk+'').match(chunkOffset)||['-',0,0];var minutes=+(parts[1]*60)+toInt(parts[2]);return parts[0]==='+'?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;if(model._isUTC){res=model.clone();diff=(isMoment(input)||isDate(input)?+input:+local__createLocal(input))-(+res);res._d.setTime(+res._d+diff);utils_hooks__hooks.updateOffset(res,false);return res}else{return local__createLocal(input).local()}return model._isUTC?local__createLocal(input).zone(model._offset||0):local__createLocal(input).local()}function getDateOffset(m){return-Math.round(m._d.getTimezoneOffset()/15)*15}utils_hooks__hooks.updateOffset=function(){};function getSetOffset(input,keepLocalTime){var offset=this._offset||0,localAdjust;if(input!=null){if(typeof input==='string'){input=offsetFromString(input)}if(Math.abs(input)<16){input=input*60}if(!this._isUTC&&keepLocalTime){localAdjust=getDateOffset(this)}this._offset=input;this._isUTC=true;if(localAdjust!=null){this.add(localAdjust,'m')}if(offset!==input){if(!keepLocalTime||this._changeInProgress){add_subtract__addSubtract(this,create__createDuration(input-offset,'m'),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;utils_hooks__hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?offset:getDateOffset(this)}}function getSetZone(input,keepLocalTime){if(input!=null){if(typeof input!=='string'){input=-input}this.utcOffset(input,keepLocalTime);return this}else{return-this.utcOffset()}}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){if(this._isUTC){this.utcOffset(0,keepLocalTime);this._isUTC=false;if(keepLocalTime){this.subtract(getDateOffset(this),'m')}}return this}function setOffsetToParsedOffset(){if(this._tzm){this.utcOffset(this._tzm)}else if(typeof this._i==='string'){this.utcOffset(offsetFromString(this._i))}return this}function hasAlignedHourOffset(input){if(!input){input=0}else{input=local__createLocal(input).utcOffset()}return(this.utcOffset()-input)%60===0}function isDaylightSavingTime(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset())}function isDaylightSavingTimeShifted(){if(this._a){var other=this._isUTC?create_utc__createUTC(this._a):local__createLocal(this._a);return this.isValid()&&compareArrays(this._a,other.toArray())>0}return false}function isLocal(){return!this._isUTC}function isUtcOffset(){return this._isUTC}function isUtc(){return this._isUTC&&this._offset===0}var aspNetRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;var create__isoRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function create__createDuration(input,key){var duration=input,match=null,sign,ret,diffRes;if(isDuration(input)){duration={ms:input._milliseconds,d:input._days,M:input._months}}else if(typeof input==='number'){duration={};if(key){duration[key]=input}else{duration.milliseconds=input}}else if(!!(match=aspNetRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}}else if(!!(match=create__isoRegex.exec(input))){sign=(match[1]==='-')?-1:1;duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),d:parseIso(match[4],sign),h:parseIso(match[5],sign),m:parseIso(match[6],sign),s:parseIso(match[7],sign),w:parseIso(match[8],sign)}}else if(duration==null){duration={}}else if(typeof duration==='object'&&('from'in duration||'to'in duration)){diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to));duration={};duration.ms=diffRes.milliseconds;duration.M=diffRes.months}ret=new Duration(duration);if(isDuration(input)&&hasOwnProp(input,'_locale')){ret._locale=input._locale}return ret}create__createDuration.fn=Duration.prototype;function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(',','.'));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};res.months=other.month()-base.month()+(other.year()-base.year())*12;if(base.clone().add(res.months,'M').isAfter(other)){--res.months}res.milliseconds=+other- +(base.clone().add(res.months,'M'));return res}function momentsDifference(base,other){var res;other=cloneWithOffset(other,base);if(base.isBefore(other)){res=positiveMomentsDifference(base,other)}else{res=positiveMomentsDifference(other,base);res.milliseconds=-res.milliseconds;res.months=-res.months}return res}function createAdder(direction,name){return function(val,period){var dur,tmp;if(period!==null&&!isNaN(+period)){deprecateSimple(name,'moment().'+name+'(period, number) is deprecated. Please use moment().'+name+'(number, period).');tmp=val;val=period;period=tmp}val=typeof val==='string'?+val:val;dur=create__createDuration(val,period);add_subtract__addSubtract(this,dur,direction);return this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=updateOffset==null?true:updateOffset;if(milliseconds){mom._d.setTime(+mom._d+milliseconds*isAdding)}if(days){get_set__set(mom,'Date',get_set__get(mom,'Date')+days*isAdding)}if(months){setMonth(mom,get_set__get(mom,'Month')+months*isAdding)}if(updateOffset){utils_hooks__hooks.updateOffset(mom,days||months)}}var add_subtract__add=createAdder(1,'add');var add_subtract__subtract=createAdder(-1,'subtract');function moment_calendar__calendar(time){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf('day'),diff=this.diff(sod,'days',true),format=diff<-6?'sameElse':diff<-1?'lastWeek':diff<0?'lastDay':diff<1?'sameDay':diff<2?'nextDay':diff<7?'nextWeek':'sameElse';return this.format(this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=isMoment(input)?input:local__createLocal(input);return+this>+input}else{inputMs=isMoment(input)?+input:+local__createLocal(input);return inputMs<+this.clone().startOf(units)}}function isBefore(input,units){var inputMs;units=normalizeUnits(typeof units!=='undefined'?units:'millisecond');if(units==='millisecond'){input=isMoment(input)?input:local__createLocal(input);return+this<+input}else{inputMs=isMoment(input)?+input:+local__createLocal(input);return+this.clone().endOf(units)<inputMs}}function isBetween(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)}function isSame(input,units){var inputMs;units=normalizeUnits(units||'millisecond');if(units==='millisecond'){input=isMoment(input)?input:local__createLocal(input);return+this===+input}else{inputMs=+local__createLocal(input);return+(this.clone().startOf(units))<=inputMs&&inputMs<=+(this.clone().endOf(units))}}function absFloor(number){if(number<0){return Math.ceil(number)}else{return Math.floor(number)}}function diff(input,units,asFloat){var that=cloneWithOffset(input,this),zoneDelta=(that.utcOffset()-this.utcOffset())*6e4,delta,output;units=normalizeUnits(units);if(units==='year'||units==='month'||units==='quarter'){output=monthDiff(this,that);if(units==='quarter'){output=output/3}else if(units==='year'){output=output/12}}else{delta=this-that;output=units==='second'?delta/1e3:units==='minute'?delta/6e4:units==='hour'?delta/36e5:units==='day'?(delta-zoneDelta)/864e5:units==='week'?(delta-zoneDelta)/6048e5:delta}return asFloat?output:absFloor(output)}function monthDiff(a,b){var wholeMonthDiff=((b.year()-a.year())*12)+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,'months'),anchor2,adjust;if(b-anchor<0){anchor2=a.clone().add(wholeMonthDiff-1,'months');adjust=(b-anchor)/(anchor-anchor2)}else{anchor2=a.clone().add(wholeMonthDiff+1,'months');adjust=(b-anchor)/(anchor2-anchor)}return-(wholeMonthDiff+adjust)}utils_hooks__hooks.defaultFormat='YYYY-MM-DDTHH:mm:ssZ';function toString(){return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ')}function moment_format__toISOString(){var m=this.clone().utc();if(0<m.year()&&m.year()<=9999){if('function'===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return formatMoment(m,'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]')}}else{return formatMoment(m,'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]')}}function format(inputString){var output=formatMoment(this,inputString||utils_hooks__hooks.defaultFormat);return this.localeData().postformat(output)}function from(time,withoutSuffix){if(!this.isValid()){return this.localeData().invalidDate()}return create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){if(!this.isValid()){return this.localeData().invalidDate()}return create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix)}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;if(key===undefined){return this._locale._abbr}else{newLocaleData=locale_locales__getLocale(key);if(newLocaleData!=null){this._locale=newLocaleData}return this}}var lang=deprecate('moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',function(key){if(key===undefined){return this.localeData()}else{return this.locale(key)}});function localeData(){return this._locale}function startOf(units){units=normalizeUnits(units);switch(units){case'year':this.month(0);case'quarter':case'month':this.date(1);case'week':case'isoWeek':case'day':this.hours(0);case'hour':this.minutes(0);case'minute':this.seconds(0);case'second':this.milliseconds(0)}if(units==='week'){this.weekday(0)}if(units==='isoWeek'){this.isoWeekday(1)}if(units==='quarter'){this.month(Math.floor(this.month()/3)*3)}return this}function endOf(units){units=normalizeUnits(units);if(units===undefined||units==='millisecond'){return this}return this.startOf(units).add(1,(units==='isoWeek'?'week':units)).subtract(1,'ms')}function to_type__valueOf(){return+this._d-((this._offset||0)*60000)}function unix(){return Math.floor(+this/1000)}function toDate(){return this._offset?new Date(+this):this._d}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}addFormatToken(0,['gg',2],0,function(){return this.weekYear()%100});addFormatToken(0,['GG',2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}addWeekYearFormatToken('gggg','weekYear');addWeekYearFormatToken('ggggg','weekYear');addWeekYearFormatToken('GGGG','isoWeekYear');addWeekYearFormatToken('GGGGG','isoWeekYear');addUnitAlias('weekYear','gg');addUnitAlias('isoWeekYear','GG');addRegexToken('G',matchSigned);addRegexToken('g',matchSigned);addRegexToken('GG',match1to2,match2);addRegexToken('gg',match1to2,match2);addRegexToken('GGGG',match1to4,match4);addRegexToken('gggg',match1to4,match4);addRegexToken('GGGGG',match1to6,match6);addRegexToken('ggggg',match1to6,match6);addWeekParseToken(['gggg','ggggg','GGGG','GGGGG'],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)});addWeekParseToken(['gg','GG'],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)});function weeksInYear(year,dow,doy){return weekOfYear(local__createLocal([year,11,31+dow-doy]),dow,doy).week}function getSetWeekYear(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return input==null?year:this.add((input-year),'y')}function getSetISOWeekYear(input){var year=weekOfYear(this,1,4).year;return input==null?year:this.add((input-year),'y')}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}addFormatToken('Q',0,0,'quarter');addUnitAlias('quarter','Q');addRegexToken('Q',match1);addParseToken('Q',function(input,array){array[MONTH]=(toInt(input)-1)*3});function getSetQuarter(input){return input==null?Math.ceil((this.month()+1)/3):this.month((input-1)*3+this.month()%3)}addFormatToken('D',['DD',2],'Do','date');addUnitAlias('date','D');addRegexToken('D',match1to2);addRegexToken('DD',match1to2,match2);addRegexToken('Do',function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient});addParseToken(['D','DD'],DATE);addParseToken('Do',function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet('Date',true);addFormatToken('d',0,'do','day');addFormatToken('dd',0,0,function(format){return this.localeData().weekdaysMin(this,format)});addFormatToken('ddd',0,0,function(format){return this.localeData().weekdaysShort(this,format)});addFormatToken('dddd',0,0,function(format){return this.localeData().weekdays(this,format)});addFormatToken('e',0,0,'weekday');addFormatToken('E',0,0,'isoWeekday');addUnitAlias('day','d');addUnitAlias('weekday','e');addUnitAlias('isoWeekday','E');addRegexToken('d',match1to2);addRegexToken('e',match1to2);addRegexToken('E',match1to2);addRegexToken('dd',matchWord);addRegexToken('ddd',matchWord);addRegexToken('dddd',matchWord);addWeekParseToken(['dd','ddd','dddd'],function(input,week,config){var weekday=config._locale.weekdaysParse(input);if(weekday!=null){week.d=weekday}else{getParsingFlags(config).invalidWeekday=input}});addWeekParseToken(['d','e','E'],function(input,week,config,token){week[token]=toInt(input)});function parseWeekday(input,locale){if(typeof input==='string'){if(!isNaN(input)){input=parseInt(input,10)}else{input=locale.weekdaysParse(input);if(typeof input!=='number'){return null}}}return input}var defaultLocaleWeekdays='Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');function localeWeekdays(m){return this._weekdays[m.day()]}var defaultLocaleWeekdaysShort='Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}var defaultLocaleWeekdaysMin='Su_Mo_Tu_We_Th_Fr_Sa'.split('_');function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function localeWeekdaysParse(weekdayName){var i,mom,regex;if(!this._weekdaysParse){this._weekdaysParse=[]}for(i=0;i<7;i++){if(!this._weekdaysParse[i]){mom=local__createLocal([2000,1]).day(i);regex='^'+this.weekdays(mom,'')+'|^'+this.weekdaysShort(mom,'')+'|^'+this.weekdaysMin(mom,'');this._weekdaysParse[i]=new RegExp(regex.replace('.',''),'i')}if(this._weekdaysParse[i].test(weekdayName)){return i}}}function getSetDayOfWeek(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();if(input!=null){input=parseWeekday(input,this.localeData());return this.add(input-day,'d')}else{return day}}function getSetLocaleDayOfWeek(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return input==null?weekday:this.add(input-weekday,'d')}function getSetISODayOfWeek(input){return input==null?this.day()||7:this.day(this.day()%7?input:input-7)}addFormatToken('H',['HH',2],0,'hour');addFormatToken('h',['hh',2],0,function(){return this.hours()%12||12});function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}meridiem('a',true);meridiem('A',false);addUnitAlias('hour','h');function matchMeridiem(isStrict,locale){return locale._meridiemParse}addRegexToken('a',matchMeridiem);addRegexToken('A',matchMeridiem);addRegexToken('H',match1to2);addRegexToken('h',match1to2);addRegexToken('HH',match1to2,match2);addRegexToken('hh',match1to2,match2);addParseToken(['H','HH'],HOUR);addParseToken(['a','A'],function(input,array,config){config._isPm=config._locale.isPM(input);config._meridiem=input});addParseToken(['h','hh'],function(input,array,config){array[HOUR]=toInt(input);getParsingFlags(config).bigHour=true});function localeIsPM(input){return((input+'').toLowerCase().charAt(0)==='p')}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i;function localeMeridiem(hours,minutes,isLower){if(hours>11){return isLower?'pm':'PM'}else{return isLower?'am':'AM'}}var getSetHour=makeGetSet('Hours',true);addFormatToken('m',['mm',2],0,'minute');addUnitAlias('minute','m');addRegexToken('m',match1to2);addRegexToken('mm',match1to2,match2);addParseToken(['m','mm'],MINUTE);var getSetMinute=makeGetSet('Minutes',false);addFormatToken('s',['ss',2],0,'second');addUnitAlias('second','s');addRegexToken('s',match1to2);addRegexToken('ss',match1to2,match2);addParseToken(['s','ss'],SECOND);var getSetSecond=makeGetSet('Seconds',false);addFormatToken('S',0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,['SS',2],0,function(){return~~(this.millisecond()/10)});function millisecond__milliseconds(token){addFormatToken(0,[token,3],0,'millisecond')}millisecond__milliseconds('SSS');millisecond__milliseconds('SSSS');addUnitAlias('millisecond','ms');addRegexToken('S',match1to3,match1);addRegexToken('SS',match1to3,match2);addRegexToken('SSS',match1to3,match3);addRegexToken('SSSS',matchUnsigned);addParseToken(['S','SS','SSS','SSSS'],function(input,array){array[MILLISECOND]=toInt(('0.'+input)*1000)});var getSetMillisecond=makeGetSet('Milliseconds',false);addFormatToken('z',0,0,'zoneAbbr');addFormatToken('zz',0,0,'zoneName');function getZoneAbbr(){return this._isUTC?'UTC':''}function getZoneName(){return this._isUTC?'Coordinated Universal Time':''}var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add;momentPrototype__proto.calendar=moment_calendar__calendar;momentPrototype__proto.clone=clone;momentPrototype__proto.diff=diff;momentPrototype__proto.endOf=endOf;momentPrototype__proto.format=format;momentPrototype__proto.from=from;momentPrototype__proto.fromNow=fromNow;momentPrototype__proto.to=to;momentPrototype__proto.toNow=toNow;momentPrototype__proto.get=getSet;momentPrototype__proto.invalidAt=invalidAt;momentPrototype__proto.isAfter=isAfter;momentPrototype__proto.isBefore=isBefore;momentPrototype__proto.isBetween=isBetween;momentPrototype__proto.isSame=isSame;momentPrototype__proto.isValid=moment_valid__isValid;momentPrototype__proto.lang=lang;momentPrototype__proto.locale=locale;momentPrototype__proto.localeData=localeData;momentPrototype__proto.max=prototypeMax;momentPrototype__proto.min=prototypeMin;momentPrototype__proto.parsingFlags=parsingFlags;momentPrototype__proto.set=getSet;momentPrototype__proto.startOf=startOf;momentPrototype__proto.subtract=add_subtract__subtract;momentPrototype__proto.toArray=toArray;momentPrototype__proto.toDate=toDate;momentPrototype__proto.toISOString=moment_format__toISOString;momentPrototype__proto.toJSON=moment_format__toISOString;momentPrototype__proto.toString=toString;momentPrototype__proto.unix=unix;momentPrototype__proto.valueOf=to_type__valueOf;momentPrototype__proto.year=getSetYear;momentPrototype__proto.isLeapYear=getIsLeapYear;momentPrototype__proto.weekYear=getSetWeekYear;momentPrototype__proto.isoWeekYear=getSetISOWeekYear;momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter;momentPrototype__proto.month=getSetMonth;momentPrototype__proto.daysInMonth=getDaysInMonth;momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek;momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek;momentPrototype__proto.weeksInYear=getWeeksInYear;momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear;momentPrototype__proto.date=getSetDayOfMonth;momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek;momentPrototype__proto.weekday=getSetLocaleDayOfWeek;momentPrototype__proto.isoWeekday=getSetISODayOfWeek;momentPrototype__proto.dayOfYear=getSetDayOfYear;momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour;momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute;momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond;momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond;momentPrototype__proto.utcOffset=getSetOffset;momentPrototype__proto.utc=setOffsetToUTC;momentPrototype__proto.local=setOffsetToLocal;momentPrototype__proto.parseZone=setOffsetToParsedOffset;momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset;momentPrototype__proto.isDST=isDaylightSavingTime;momentPrototype__proto.isDSTShifted=isDaylightSavingTimeShifted;momentPrototype__proto.isLocal=isLocal;momentPrototype__proto.isUtcOffset=isUtcOffset;momentPrototype__proto.isUtc=isUtc;momentPrototype__proto.isUTC=isUtc;momentPrototype__proto.zoneAbbr=getZoneAbbr;momentPrototype__proto.zoneName=getZoneName;momentPrototype__proto.dates=deprecate('dates accessor is deprecated. Use date instead.',getSetDayOfMonth);momentPrototype__proto.months=deprecate('months accessor is deprecated. Use month instead',getSetMonth);momentPrototype__proto.years=deprecate('years accessor is deprecated. Use year instead',getSetYear);momentPrototype__proto.zone=deprecate('moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779',getSetZone);var momentPrototype=momentPrototype__proto;function moment__createUnix(input){return local__createLocal(input*1000)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}var defaultCalendar={sameDay:'[Today at] LT',nextDay:'[Tomorrow at] LT',nextWeek:'dddd [at] LT',lastDay:'[Yesterday at] LT',lastWeek:'[Last] dddd [at] LT',sameElse:'L'};function locale_calendar__calendar(key,mom,now){var output=this._calendar[key];return typeof output==='function'?output.call(mom,now):output}var defaultLongDateFormat={LTS:'h:mm:ss A',LT:'h:mm A',L:'MM/DD/YYYY',LL:'MMMM D, YYYY',LLL:'MMMM D, YYYY LT',LLLL:'dddd, MMMM D, YYYY LT'};function longDateFormat(key){var output=this._longDateFormat[key];if(!output&&this._longDateFormat[key.toUpperCase()]){output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)});this._longDateFormat[key]=output}return output}var defaultInvalidDate='Invalid date';function invalidDate(){return this._invalidDate}var defaultOrdinal='%d';var defaultOrdinalParse=/\d{1,2}/;function ordinal(number){return this._ordinal.replace('%d',number)}function preParsePostFormat(string){return string}var defaultRelativeTime={future:'in %s',past:'%s ago',s:'a few seconds',m:'a minute',mm:'%d minutes',h:'an hour',hh:'%d hours',d:'a day',dd:'%d days',M:'a month',MM:'%d months',y:'a year',yy:'%d years'};function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return(typeof output==='function')?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?'future':'past'];return typeof format==='function'?format(output):format.replace(/%s/i,output)}function locale_set__set(config){var prop,i;for(i in config){prop=config[i];if(typeof prop==='function'){this[i]=prop}else{this['_'+i]=prop}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+'|'+(/\d{1,2}/).source)}var prototype__proto=Locale.prototype;prototype__proto._calendar=defaultCalendar;prototype__proto.calendar=locale_calendar__calendar;prototype__proto._longDateFormat=defaultLongDateFormat;prototype__proto.longDateFormat=longDateFormat;prototype__proto._invalidDate=defaultInvalidDate;prototype__proto.invalidDate=invalidDate;prototype__proto._ordinal=defaultOrdinal;prototype__proto.ordinal=ordinal;prototype__proto._ordinalParse=defaultOrdinalParse;prototype__proto.preparse=preParsePostFormat;prototype__proto.postformat=preParsePostFormat;prototype__proto._relativeTime=defaultRelativeTime;prototype__proto.relativeTime=relative__relativeTime;prototype__proto.pastFuture=pastFuture;prototype__proto.set=locale_set__set;prototype__proto.months=localeMonths;prototype__proto._months=defaultLocaleMonths;prototype__proto.monthsShort=localeMonthsShort;prototype__proto._monthsShort=defaultLocaleMonthsShort;prototype__proto.monthsParse=localeMonthsParse;prototype__proto.week=localeWeek;prototype__proto._week=defaultLocaleWeek;prototype__proto.firstDayOfYear=localeFirstDayOfYear;prototype__proto.firstDayOfWeek=localeFirstDayOfWeek;prototype__proto.weekdays=localeWeekdays;prototype__proto._weekdays=defaultLocaleWeekdays;prototype__proto.weekdaysMin=localeWeekdaysMin;prototype__proto._weekdaysMin=defaultLocaleWeekdaysMin;prototype__proto.weekdaysShort=localeWeekdaysShort;prototype__proto._weekdaysShort=defaultLocaleWeekdaysShort;prototype__proto.weekdaysParse=localeWeekdaysParse;prototype__proto.isPM=localeIsPM;prototype__proto._meridiemParse=defaultLocaleMeridiemParse;prototype__proto.meridiem=localeMeridiem;function lists__get(format,index,field,setter){var locale=locale_locales__getLocale();var utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function list(format,index,field,count,setter){if(typeof format==='number'){index=format;format=undefined}format=format||'';if(index!=null){return lists__get(format,index,field,setter)}var i;var out=[];for(i=0;i<count;i++){out[i]=lists__get(format,i,field,setter)}return out}function lists__listMonths(format,index){return list(format,index,'months',12,'month')}function lists__listMonthsShort(format,index){return list(format,index,'monthsShort',12,'month')}function lists__listWeekdays(format,index){return list(format,index,'weekdays',7,'day')}function lists__listWeekdaysShort(format,index){return list(format,index,'weekdaysShort',7,'day')}function lists__listWeekdaysMin(format,index){return list(format,index,'weekdaysMin',7,'day')}locale_locales__getSetGlobalLocale('en',{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=(toInt(number%100/10)===1)?'th':(b===1)?'st':(b===2)?'nd':(b===3)?'rd':'th';return number+output}});utils_hooks__hooks.lang=deprecate('moment.lang is deprecated. Use moment.locale instead.',locale_locales__getSetGlobalLocale);utils_hooks__hooks.langData=deprecate('moment.langData is deprecated. Use moment.localeData instead.',locale_locales__getLocale);var mathAbs=Math.abs;function duration_abs__abs(){var data=this._data;this._milliseconds=mathAbs(this._milliseconds);this._days=mathAbs(this._days);this._months=mathAbs(this._months);data.milliseconds=mathAbs(data.milliseconds);data.seconds=mathAbs(data.seconds);data.minutes=mathAbs(data.minutes);data.hours=mathAbs(data.hours);data.months=mathAbs(data.months);data.years=mathAbs(data.years);return this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);duration._milliseconds+=direction*other._milliseconds;duration._days+=direction*other._days;duration._months+=direction*other._months;return duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function bubble(){var milliseconds=this._milliseconds;var days=this._days;var months=this._months;var data=this._data;var seconds,minutes,hours,years=0;data.milliseconds=milliseconds%1000;seconds=absFloor(milliseconds/1000);data.seconds=seconds%60;minutes=absFloor(seconds/60);data.minutes=minutes%60;hours=absFloor(minutes/60);data.hours=hours%24;days+=absFloor(hours/24);years=absFloor(daysToYears(days));days-=absFloor(yearsToDays(years));months+=absFloor(days/30);days%=30;years+=absFloor(months/12);months%=12;data.days=days;data.months=months;data.years=years;return this}function daysToYears(days){return days*400/146097}function yearsToDays(years){return years*146097/400}function as(units){var days;var months;var milliseconds=this._milliseconds;units=normalizeUnits(units);if(units==='month'||units==='year'){days=this._days+milliseconds/864e5;months=this._months+daysToYears(days)*12;return units==='month'?months:months/12}else{days=this._days+Math.round(yearsToDays(this._months/12));switch(units){case'week':return days/7+milliseconds/6048e5;case'day':return days+milliseconds/864e5;case'hour':return days*24+milliseconds/36e5;case'minute':return days*1440+milliseconds/6e4;case'second':return days*86400+milliseconds/1000;case'millisecond':return Math.floor(days*864e5)+milliseconds;default:throw new Error('Unknown unit '+units);}}}function duration_as__valueOf(){return(this._milliseconds+this._days*864e5+(this._months%12)*2592e6+toInt(this._months/12)*31536e6)}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs('ms');var asSeconds=makeAs('s');var asMinutes=makeAs('m');var asHours=makeAs('h');var asDays=makeAs('d');var asWeeks=makeAs('w');var asMonths=makeAs('M');var asYears=makeAs('y');function duration_get__get(units){units=normalizeUnits(units);return this[units+'s']()}function makeGetter(name){return function(){return this._data[name]}}var duration_get__milliseconds=makeGetter('milliseconds');var seconds=makeGetter('seconds');var minutes=makeGetter('minutes');var hours=makeGetter('hours');var days=makeGetter('days');var months=makeGetter('months');var years=makeGetter('years');function weeks(){return absFloor(this.days()/7)}var round=Math.round;var thresholds={s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs();var seconds=round(duration.as('s'));var minutes=round(duration.as('m'));var hours=round(duration.as('h'));var days=round(duration.as('d'));var months=round(duration.as('M'));var years=round(duration.as('y'));var a=seconds<thresholds.s&&['s',seconds]||minutes===1&&['m']||minutes<thresholds.m&&['mm',minutes]||hours===1&&['h']||hours<thresholds.h&&['hh',hours]||days===1&&['d']||days<thresholds.d&&['dd',days]||months===1&&['M']||months<thresholds.M&&['MM',months]||years===1&&['y']||['yy',years];a[2]=withoutSuffix;a[3]=+posNegDuration>0;a[4]=locale;return substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){if(thresholds[threshold]===undefined){return false}if(limit===undefined){return thresholds[threshold]}thresholds[threshold]=limit;return true}function humanize(withSuffix){var locale=this.localeData();var output=duration_humanize__relativeTime(this,!withSuffix,locale);if(withSuffix){output=locale.pastFuture(+this,output)}return locale.postformat(output)}var iso_string__abs=Math.abs;function iso_string__toISOString(){var Y=iso_string__abs(this.years());var M=iso_string__abs(this.months());var D=iso_string__abs(this.days());var h=iso_string__abs(this.hours());var m=iso_string__abs(this.minutes());var s=iso_string__abs(this.seconds()+this.milliseconds()/1000);var total=this.asSeconds();if(!total){return'P0D'}return(total<0?'-':'')+'P'+(Y?Y+'Y':'')+(M?M+'M':'')+(D?D+'D':'')+((h||m||s)?'T':'')+(h?h+'H':'')+(m?m+'M':'')+(s?s+'S':'')}var duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs;duration_prototype__proto.add=duration_add_subtract__add;duration_prototype__proto.subtract=duration_add_subtract__subtract;duration_prototype__proto.as=as;duration_prototype__proto.asMilliseconds=asMilliseconds;duration_prototype__proto.asSeconds=asSeconds;duration_prototype__proto.asMinutes=asMinutes;duration_prototype__proto.asHours=asHours;duration_prototype__proto.asDays=asDays;duration_prototype__proto.asWeeks=asWeeks;duration_prototype__proto.asMonths=asMonths;duration_prototype__proto.asYears=asYears;duration_prototype__proto.valueOf=duration_as__valueOf;duration_prototype__proto._bubble=bubble;duration_prototype__proto.get=duration_get__get;duration_prototype__proto.milliseconds=duration_get__milliseconds;duration_prototype__proto.seconds=seconds;duration_prototype__proto.minutes=minutes;duration_prototype__proto.hours=hours;duration_prototype__proto.days=days;duration_prototype__proto.weeks=weeks;duration_prototype__proto.months=months;duration_prototype__proto.years=years;duration_prototype__proto.humanize=humanize;duration_prototype__proto.toISOString=iso_string__toISOString;duration_prototype__proto.toString=iso_string__toISOString;duration_prototype__proto.toJSON=iso_string__toISOString;duration_prototype__proto.locale=locale;duration_prototype__proto.localeData=localeData;duration_prototype__proto.toIsoString=deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)',iso_string__toISOString);duration_prototype__proto.lang=lang;addFormatToken('X',0,0,'unix');addFormatToken('x',0,0,'valueOf');addRegexToken('x',matchSigned);addRegexToken('X',matchTimestamp);addParseToken('X',function(input,array,config){config._d=new Date(parseFloat(input,10)*1000)});addParseToken('x',function(input,array,config){config._d=new Date(toInt(input))});utils_hooks__hooks.version='2.10.3';setHookCallback(local__createLocal);utils_hooks__hooks.fn=momentPrototype;utils_hooks__hooks.min=min;utils_hooks__hooks.max=max;utils_hooks__hooks.utc=create_utc__createUTC;utils_hooks__hooks.unix=moment__createUnix;utils_hooks__hooks.months=lists__listMonths;utils_hooks__hooks.isDate=isDate;utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale;utils_hooks__hooks.invalid=valid__createInvalid;utils_hooks__hooks.duration=create__createDuration;utils_hooks__hooks.isMoment=isMoment;utils_hooks__hooks.weekdays=lists__listWeekdays;utils_hooks__hooks.parseZone=moment__createInZone;utils_hooks__hooks.localeData=locale_locales__getLocale;utils_hooks__hooks.isDuration=isDuration;utils_hooks__hooks.monthsShort=lists__listMonthsShort;utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin;utils_hooks__hooks.defineLocale=defineLocale;utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort;utils_hooks__hooks.normalizeUnits=normalizeUnits;utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold;var _moment=utils_hooks__hooks;return _moment}));

// daterangepicker.js
// version : 0.0.9
// author : Chunlong Liu
// last updated at: 2015-10-30
// license : MIT
// www.jszen.com
// daterangepicker.js
// version : 0.0.9
// author : Chunlong Liu
// last updated at: 2015-10-30
// license : MIT
// www.jszen.com
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery','moment'],factory)}else if(typeof exports==='object'&&typeof module!=='undefined'){module.exports=factory(require('jquery'),require('moment'))}else{factory(jQuery,moment)}}(function($,moment){$.dateRangePickerLanguages={'default':{'selected':'Selected:','day':'Day','days':'Days','apply':'Close','week-1':'mo','week-2':'tu','week-3':'we','week-4':'th','week-5':'fr','week-6':'sa','week-7':'su','week-number':'W','month-name':['january','february','march','april','may','june','july','august','september','october','november','december'],'shortcuts':'Shortcuts','custom-values':'Custom Values','past':'Past','following':'Following','previous':'Previous','prev-week':'Week','prev-month':'Month','prev-year':'Year','next':'Next','next-week':'Week','next-month':'Month','next-year':'Year','less-than':'Date range should not be more than %d days','more-than':'Date range should not be less than %d days','default-more':'Please select a date range longer than %d days','default-single':'Please select a date','default-less':'Please select a date range less than %d days','default-range':'Please select a date range between %d and %d days','default-default':'Please select a date range','time':'Time','hour':'Hour','minute':'Minute'},'az':{'selected':'Seçildi:','day':' gün','days':' gün','apply':'tətbiq','week-1':'1','week-2':'2','week-3':'3','week-4':'4','week-5':'5','week-6':'6','week-7':'7','month-name':['yanvar','fevral','mart','aprel','may','iyun','iyul','avqust','sentyabr','oktyabr','noyabr','dekabr'],'shortcuts':'Qısayollar','past':'Keçmiş','following':'Növbəti','previous':'&nbsp;&nbsp;&nbsp;','prev-week':'Öncəki həftə','prev-month':'Öncəki ay','prev-year':'Öncəki il','next':'&nbsp;&nbsp;&nbsp;','next-week':'Növbəti həftə','next-month':'Növbəti ay','next-year':'Növbəti il','less-than':'Tarix aralığı %d gündən çox olmamalıdır','more-than':'Tarix aralığı %d gündən az olmamalıdır','default-more':'%d gündən çox bir tarix seçin','default-single':'Tarix seçin','default-less':'%d gündən az bir tarix seçin','default-range':'%d və %d gün aralığında tarixlər seçin','default-default':'Tarix aralığı seçin'},'cn':{'selected':'已选择:','day':'天','days':'天','apply':'确定','week-1':'一','week-2':'二','week-3':'三','week-4':'四','week-5':'五','week-6':'六','week-7':'日','week-number':'周','month-name':['一月','二月','三月','四月','五月','六月','七月','八月','九月','十月','十一月','十二月'],'shortcuts':'快捷选择','past':'过去','following':'将来','previous':'&nbsp;&nbsp;&nbsp;','prev-week':'上周','prev-month':'上个月','prev-year':'去年','next':'&nbsp;&nbsp;&nbsp;','next-week':'下周','next-month':'下个月','next-year':'明年','less-than':'所选日期范围不能大于%d天','more-than':'所选日期范围不能小于%d天','default-more':'请选择大于%d天的日期范围','default-less':'请选择小于%d天的日期范围','default-range':'请选择%d天到%d天的日期范围','default-single':'请选择一个日期','default-default':'请选择一个日期范围','time':'时间','hour':'小时','minute':'分钟'},'cz':{'selected':'Vybráno:','day':'Den','days':'Dny','apply':'Zavřít','week-1':'po','week-2':'út','week-3':'st','week-4':'čt','week-5':'pá','week-6':'so','week-7':'ne','month-name':['leden','únor','březen','duben','květen','červen','červenec','srpen','září','říjen','listopad','prosinec'],'shortcuts':'Zkratky','past':'po','following':'následující','previous':'předchozí','prev-week':'týden','prev-month':'měsíc','prev-year':'rok','next':'další','next-week':'týden','next-month':'měsíc','next-year':'rok','less-than':'Rozsah data by neměl být větší než %d dnů','more-than':'Rozsah data by neměl být menší než %d dnů','default-more':'Prosím zvolte rozsah data větší než %d dnů','default-single':'Prosím zvolte datum','default-less':'Prosím zvolte rozsah data menší než %d dnů','default-range':'Prosím zvolte rozsah data mezi %d a %d dny','default-default':'Prosím zvolte rozsah data'},'de':{'selected':'Auswahl:','day':'Tag','days':'Tage','apply':'Schließen','week-1':'mo','week-2':'di','week-3':'mi','week-4':'do','week-5':'fr','week-6':'sa','week-7':'so','month-name':['januar','februar','märz','april','mai','juni','juli','august','september','oktober','november','dezember'],'shortcuts':'Schnellwahl','past':'Vorherige','following':'Folgende','previous':'Vorherige','prev-week':'Woche','prev-month':'Monat','prev-year':'Jahr','next':'Nächste','next-week':'Woche','next-month':'Monat','next-year':'Jahr','less-than':'Datumsbereich darf nicht größer sein als %d Tage','more-than':'Datumsbereich darf nicht kleiner sein als %d Tage','default-more':'Bitte mindestens %d Tage auswählen','default-single':'Bitte ein Datum auswählen','default-less':'Bitte weniger als %d Tage auswählen','default-range':'Bitte einen Datumsbereich zwischen %d und %d Tagen auswählen','default-default':'Bitte ein Start- und Enddatum auswählen','Time':'Zeit','hour':'Stunde','minute':'Minute',},'es':{'selected':'Seleccionado:','day':'Dia','days':'Dias','apply':'Cerrar','week-1':'lu','week-2':'ma','week-3':'mi','week-4':'ju','week-5':'vi','week-6':'sa','week-7':'do','month-name':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre'],'shortcuts':'Accesos directos','past':'Pasado','following':'Siguiente','previous':'Anterior','prev-week':'Semana','prev-month':'Mes','prev-year':'Año','next':'Siguiente','next-week':'Semana','next-month':'Mes','next-year':'Año','less-than':'El rango no deberia ser mayor de %d dias','more-than':'El rango no deberia ser menor de %d dias','default-more':'Por favor selecciona un rango mayor a %d dias','default-single':'Por favor selecciona un dia','default-less':'Por favor selecciona un rango menor a %d dias','default-range':'Por favor selecciona un rango entre %d y %d dias','default-default':'Por favor selecciona un rango de fechas.'},'fr':{'selected':'Sélection:','day':'Jour','days':'Jours','apply':'Fermer','week-1':'lu','week-2':'ma','week-3':'me','week-4':'je','week-5':'ve','week-6':'sa','week-7':'di','month-name':['janvier','février','mars','avril','mai','juin','juillet','août','septembre','octobre','novembre','décembre'],'shortcuts':'Raccourcis','past':'Passé','following':'Suivant','previous':'Précédent','prev-week':'Semaine','prev-month':'Mois','prev-year':'Année','next':'Suivant','next-week':'Semaine','next-month':'Mois','next-year':'Année','less-than':'L\'intervalle ne doit pas être supérieure à %d jours','more-than':'L\'intervalle ne doit pas être inférieure à %d jours','default-more':'Merci de choisir une intervalle supérieure à %d jours','default-single':'Merci de choisir une date','default-less':'Merci de choisir une intervalle inférieure %d jours','default-range':'Merci de choisir une intervalle comprise entre %d et %d jours','default-default':'Merci de choisir une date'},'hu':{'selected':'Kiválasztva:','day':'Nap','days':'Nap','apply':'Ok','week-1':'h','week-2':'k','week-3':'sz','week-4':'cs','week-5':'p','week-6':'sz','week-7':'v','month-name':['január','február','március','április','május','június','július','augusztus','szeptember','október','november','december'],'shortcuts':'Gyorsválasztó','past':'Múlt','following':'Következő','previous':'Előző','prev-week':'Hét','prev-month':'Hónap','prev-year':'Év','next':'Következő','next-week':'Hét','next-month':'Hónap','next-year':'Év','less-than':'A kiválasztás nem lehet több %d napnál','more-than':'A kiválasztás nem lehet több %d napnál','default-more':'Válassz ki egy időszakot ami hosszabb mint %d nap','default-single':'Válassz egy napot','default-less':'Válassz ki egy időszakot ami rövidebb mint %d nap','default-range':'Válassz ki egy %d - %d nap hosszú időszakot','default-default':'Válassz ki egy időszakot'},'it':{'selected':'Selezionati:','day':'Giorno','days':'Giorni','apply':'Chiudi','week-1':'lu','week-2':'ma','week-3':'me','week-4':'gi','week-5':'ve','week-6':'sa','week-7':'do','month-name':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre'],'shortcuts':'Scorciatoie','past':'Scorso','following':'Successivo','previous':'Precedente','prev-week':'Settimana','prev-month':'Mese','prev-year':'Anno','next':'Prossimo','next-week':'Settimana','next-month':'Mese','next-year':'Anno','less-than':'L\'intervallo non dev\'essere maggiore di %d giorni','more-than':'L\'intervallo non dev\'essere minore di %d giorni','default-more':'Seleziona un intervallo maggiore di %d giorni','default-single':'Seleziona una data','default-less':'Seleziona un intervallo minore di %d giorni','default-range':'Seleziona un intervallo compreso tra i %d e i %d giorni','default-default':'Seleziona un intervallo di date'},'no':{'selected':'Valgt:','day':'Dag','days':'Dager','apply':'Lukk','week-1':'ma','week-2':'ti','week-3':'on','week-4':'to','week-5':'fr','week-6':'lø','week-7':'sø','month-name':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember'],'shortcuts':'Snarveier','custom-values':'Egendefinerte Verdier','past':'Over','following':'Følger','previous':'Forrige','prev-week':'Uke','prev-month':'Måned','prev-year':'År','next':'Neste','next-week':'Uke','next-month':'Måned','next-year':'År','less-than':'Datoperioden skal ikkje være lengre enn %d dager','more-than':'Datoperioden skal ikkje være kortere enn %d dager','default-more':'Vennligst velg ein datoperiode lengre enn %d dager','default-single':'Vennligst velg ein dato','default-less':'Vennligst velg ein datoperiode mindre enn %d dager','default-range':'Vennligst velg ein datoperiode mellom %d og %d dager','default-default':'Vennligst velg ein datoperiode','time':'Tid','hour':'Time','minute':'Minutter'},'nl':{'selected':'Geselecteerd:','day':'Dag','days':'Dagen','apply':'Ok','week-1':'ma','week-2':'di','week-3':'wo','week-4':'do','week-5':'vr','week-6':'za','week-7':'zo','month-name':['januari','februari','maart','april','mei','juni','juli','augustus','september','october','november','december'],'shortcuts':'Snelkoppelingen','custom-values':'Aangepaste waarden','past':'Verleden','following':'Komend','previous':'Vorige','prev-week':'Week','prev-month':'Maand','prev-year':'Jaar','next':'Volgende','next-week':'Week','next-month':'Maand','next-year':'Jaar','less-than':'Interval moet langer dan %d dagen zijn','more-than':'Interval mag niet minder dan %d dagen zijn','default-more':'Selecteer een interval langer dan %dagen','default-single':'Selecteer een datum','default-less':'Selecteer een interval minder dan %d dagen','default-range':'Selecteer een interval tussen %d en %d dagen','default-default':'Selecteer een interval','time':'Tijd','hour':'Uur','minute':'Minuut'},'ru':{'selected':'Выбрано:','day':'День','days':'Дней','apply':'Закрыть','week-1':'пн','week-2':'вт','week-3':'ср','week-4':'чт','week-5':'пт','week-6':'сб','week-7':'вс','month-name':['январь','февраль','март','апрель','май','июнь','июль','август','сентябрь','октябрь','ноябрь','декабрь'],'shortcuts':'Быстрый выбор','past':'Прошедшие','following':'Следующие','previous':'&nbsp;&nbsp;&nbsp;','prev-week':'Неделя','prev-month':'Месяц','prev-year':'Год','next':'&nbsp;&nbsp;&nbsp;','next-week':'Неделя','next-month':'Месяц','next-year':'Год','less-than':'Диапазон не может быть больше %d дней','more-than':'Диапазон не может быть меньше %d дней','default-more':'Пожалуйста выберите диапазон больше %d дней','default-single':'Пожалуйста выберите дату','default-less':'Пожалуйста выберите диапазон меньше %d дней','default-range':'Пожалуйста выберите диапазон между %d и %d днями','default-default':'Пожалуйста выберите диапазон'},'pl':{'selected':'Wybrany:','day':'Dzień','days':'Dni','apply':'Zamknij','week-1':'pon','week-2':'wt','week-3':'śr','week-4':'czw','week-5':'pt','week-6':'so','week-7':'nd','month-name':['styczeń','luty','marzec','kwiecień','maj','czerwiec','lipiec','sierpień','wrzesień','październik','listopad','grudzień'],'shortcuts':'Skróty','custom-values':'Niestandardowe wartości','past':'Przeszłe','following':'Następne','previous':'Poprzednie','prev-week':'tydzień','prev-month':'miesiąc','prev-year':'rok','next':'Następny','next-week':'tydzień','next-month':'miesiąc','next-year':'rok','less-than':'Okres nie powinien być dłuższy niż %d dni','more-than':'Okres nie powinien być krótszy niż  %d ni','default-more':'Wybierz okres dłuższy niż %d dni','default-single':'Wybierz datę','default-less':'Wybierz okres krótszy niż %d dni','default-range':'Wybierz okres trwający od %d do %d dni','default-default':'Wybierz okres','time':'Czas','hour':'Godzina','minute':'Minuta'},'se':{'selected':'Vald:','day':'dag','days':'dagar','apply':'godkänn','week-1':'ma','week-2':'ti','week-3':'on','week-4':'to','week-5':'fr','week-6':'lö','week-7':'sö','month-name':['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december'],'shortcuts':'genvägar','custom-values':'Anpassade värden','past':'över','following':'följande','previous':'förra','prev-week':'vecka','prev-month':'månad','prev-year':'år','next':'nästa','next-week':'vecka','next-month':'måned','next-year':'år','less-than':'Datumintervall bör inte vara mindre än %d dagar','more-than':'Datumintervall bör inte vara mer än %d dagar','default-more':'Välj ett datumintervall längre än %d dagar','default-single':'Välj ett datum','default-less':'Välj ett datumintervall mindre än %d dagar','default-range':'Välj ett datumintervall mellan %d och %d dagar','default-default':'Välj ett datumintervall','time':'tid','hour':'timme','minute':'minut'}};$.fn.dateRangePicker=function(opt){if(!opt)opt={};opt=$.extend(true,{autoClose:false,format:'YYYY-MM-DD',separator:' to ',language:'auto',startOfWeek:'sunday',getValue:function(){return $(this).val()},setValue:function(s){if(!$(this).attr('readonly')&&!$(this).is(':disabled')&&s!=$(this).val()){$(this).val(s)}},startDate:false,endDate:false,time:{enabled:false},minDays:0,maxDays:0,showShortcuts:false,shortcuts:{},customShortcuts:[],inline:false,container:'body',alwaysOpen:false,singleDate:false,lookBehind:false,batchMode:false,duration:200,stickyMonths:false,dayDivAttrs:[],dayTdAttrs:[],selectForward:false,selectBackward:false,applyBtnClass:'',singleMonth:'auto',hoveringTooltip:function(days,startTime,hoveringTime){return days>1?days+' '+lang('days'):''},showTopbar:true,swapTime:false,showWeekNumbers:false,getWeekNumber:function(date){return moment(date).format('w')},customOpenAnimation:null,customCloseAnimation:null},opt);opt.start=false;opt.end=false;opt.startWeek=false;opt.isTouchDevice='ontouchstart'in window||navigator.msMaxTouchPoints;if(opt.isTouchDevice)opt.hoveringTooltip=false;if(opt.singleMonth=='auto')opt.singleMonth=$(window).width()<480;if(opt.singleMonth)opt.stickyMonths=false;if(opt.singleDate)opt.singleMonth=true;if(!opt.showTopbar)opt.autoClose=true;if(opt.startDate&&typeof opt.startDate=='string')opt.startDate=moment(opt.startDate,opt.format).toDate();if(opt.endDate&&typeof opt.endDate=='string')opt.endDate=moment(opt.endDate,opt.format).toDate();var langs=getLanguages();var box;var initiated=false;var self=this;var selfDom=$(self).get(0);var domChangeTimer;$(this).unbind('.datepicker').bind('click.datepicker',function(evt){var isOpen=box.is(':visible');if(!isOpen)open(opt.duration)}).bind('change.datepicker',function(evt){checkAndSetDefaultValue()}).bind('keyup.datepicker',function(){try{clearTimeout(domChangeTimer)}catch(e){}domChangeTimer=setTimeout(function(){checkAndSetDefaultValue()},2000)});init_datepicker.call(this);if(opt.alwaysOpen){open(0)}$(this).data('dateRangePicker',{setDateRange:function(d1,d2,silent){if(typeof d1=='string'&&typeof d2=='string'){d1=moment(d1,opt.format).toDate();d2=moment(d2,opt.format).toDate()}setDateRange(d1,d2,silent)},clear:clearSelection,close:closeDatePicker,open:open,redraw:redrawDatePicker,getDatePicker:getDatePicker,destroy:function(){$(self).unbind('.datepicker');$(self).data('dateRangePicker','');$(self).data('date-picker-opened',null);box.remove();$(window).unbind('resize.datepicker',calcPosition);$(document).unbind('click.datepicker',closeDatePicker)}});$(window).bind('resize.datepicker',calcPosition);return this;function IsOwnDatePickerClicked(evt,selfObj){return(selfObj.contains(evt.target)||evt.target==selfObj||(selfObj.childNodes!=undefined&&$.inArray(evt.target,selfObj.childNodes)>=0))}function init_datepicker(){var self=this;if($(this).data('date-picker-opened')){closeDatePicker();return}$(this).data('date-picker-opened',true);box=createDom().hide();box.append('<div class="date-range-length-tip"></div>');box.delegate('.day','mouseleave',function(){box.find('.date-range-length-tip').hide()});$(opt.container).append(box);if(!opt.inline){calcPosition()}else{box.addClass("inline-wrapper")}if(opt.alwaysOpen){box.find('.apply-btn').hide()}var defaultTime=opt.defaultTime?opt.defaultTime:new Date();if(opt.lookBehind){if(opt.startDate&&compare_month(defaultTime,opt.startDate)<0)defaultTime=nextMonth(moment(opt.startDate).toDate());if(opt.endDate&&compare_month(defaultTime,opt.endDate)>0)defaultTime=moment(opt.endDate).toDate();showMonth(prevMonth(defaultTime),'month1');showMonth(defaultTime,'month2')}else{if(opt.startDate&&compare_month(defaultTime,opt.startDate)<0)defaultTime=moment(opt.startDate).toDate();if(opt.endDate&&compare_month(nextMonth(defaultTime),opt.endDate)>0)defaultTime=prevMonth(moment(opt.endDate).toDate());showMonth(defaultTime,'month1');showMonth(nextMonth(defaultTime),'month2')}if(opt.singleDate){if(opt.startDate&&compare_month(defaultTime,opt.startDate)<0)defaultTime=moment(opt.startDate).toDate();if(opt.endDate&&compare_month(defaultTime,opt.endDate)>0)defaultTime=moment(opt.endDate).toDate();showMonth(defaultTime,'month1')}if(opt.time.enabled){if((opt.startDate&&opt.endDate)||(opt.start&&opt.end)){showTime(moment(opt.start||opt.startDate).toDate(),'time1');showTime(moment(opt.end||opt.endDate).toDate(),'time2')}else{var defaultEndTime=opt.defaultEndTime?opt.defaultEndTime:defaultTime;showTime(defaultTime,'time1');showTime(defaultEndTime,'time2')}}var defaultTopText='';if(opt.singleDate)defaultTopText=lang('default-single');else if(opt.minDays&&opt.maxDays)defaultTopText=lang('default-range');else if(opt.minDays)defaultTopText=lang('default-more');else if(opt.maxDays)defaultTopText=lang('default-less');else defaultTopText=lang('default-default');box.find('.default-top').html(defaultTopText.replace(/\%d/,opt.minDays).replace(/\%d/,opt.maxDays));if(opt.singleMonth){box.addClass('single-month')}else{box.addClass('two-months')}setTimeout(function(){updateCalendarWidth();initiated=true},0);box.click(function(evt){evt.stopPropagation()});$(document).bind('click.datepicker',function(evt){if(!IsOwnDatePickerClicked(evt,self[0])){if(box.is(':visible'))closeDatePicker()}});box.find('.next').click(function(){if(!opt.stickyMonths)gotoNextMonth(this);else gotoNextMonth_stickily(this)});function gotoNextMonth(self){var isMonth2=$(self).parents('table').hasClass('month2');var month=isMonth2?opt.month2:opt.month1;month=nextMonth(month);if(!opt.singleMonth&&!opt.singleDate&&!isMonth2&&compare_month(month,opt.month2)>=0||isMonthOutOfBounds(month))return;showMonth(month,isMonth2?'month2':'month1');showGap()}function gotoNextMonth_stickily(self){var nextMonth1=nextMonth(opt.month1);var nextMonth2=nextMonth(opt.month2);if(isMonthOutOfBounds(nextMonth2))return;if(!opt.singleDate&&compare_month(nextMonth1,nextMonth2)>=0)return;showMonth(nextMonth1,'month1');showMonth(nextMonth2,'month2');showSelectedDays()}box.find('.prev').click(function(){if(!opt.stickyMonths)gotoPrevMonth(this);else gotoPrevMonth_stickily(this)});function gotoPrevMonth(self){var isMonth2=$(self).parents('table').hasClass('month2');var month=isMonth2?opt.month2:opt.month1;month=prevMonth(month);if(isMonth2&&compare_month(month,opt.month1)<=0||isMonthOutOfBounds(month))return;showMonth(month,isMonth2?'month2':'month1');showGap()}function gotoPrevMonth_stickily(self){var prevMonth1=prevMonth(opt.month1);var prevMonth2=prevMonth(opt.month2);if(isMonthOutOfBounds(prevMonth1))return;if(!opt.singleDate&&compare_month(prevMonth2,prevMonth1)<=0)return;showMonth(prevMonth2,'month2');showMonth(prevMonth1,'month1');showSelectedDays()}box.delegate('.day','click',function(evt){dayClicked($(this))});box.delegate('.day','mouseenter',function(evt){dayHovering($(this))});box.delegate('.week-number','click',function(evt){weekNumberClicked($(this))});box.attr('unselectable','on').css('user-select','none').bind('selectstart',function(e){e.preventDefault();return false});box.find('.apply-btn').click(function(){closeDatePicker();var dateRange=getDateString(new Date(opt.start))+opt.separator+getDateString(new Date(opt.end));$(self).trigger('datepicker-apply',{'value':dateRange,'date1':new Date(opt.start),'date2':new Date(opt.end)})});box.find('[custom]').click(function(){var valueName=$(this).attr('custom');opt.start=false;opt.end=false;box.find('.day.checked').removeClass('checked');opt.setValue.call(selfDom,valueName);checkSelectionValid();showSelectedInfo(true);showSelectedDays();if(opt.autoClose)closeDatePicker()});box.find('[shortcut]').click(function(){var shortcut=$(this).attr('shortcut');var end=new Date(),start=false;if(shortcut.indexOf('day')!=-1){var day=parseInt(shortcut.split(',',2)[1],10);start=new Date(new Date().getTime()+86400000*day);end=new Date(end.getTime()+86400000*(day>0?1:-1))}else if(shortcut.indexOf('week')!=-1){var dir=shortcut.indexOf('prev,')!=-1?-1:1;if(dir==1)var stopDay=opt.startOfWeek=='monday'?1:0;else var stopDay=opt.startOfWeek=='monday'?0:6;end=new Date(end.getTime()-86400000);while(end.getDay()!=stopDay)end=new Date(end.getTime()+dir*86400000);start=new Date(end.getTime()+dir*86400000*6)}else if(shortcut.indexOf('month')!=-1){var dir=shortcut.indexOf('prev,')!=-1?-1:1;if(dir==1)start=nextMonth(end);else start=prevMonth(end);start.setDate(1);end=nextMonth(start);end.setDate(1);end=new Date(end.getTime()-86400000)}else if(shortcut.indexOf('year')!=-1){var dir=shortcut.indexOf('prev,')!=-1?-1:1;start=new Date();start.setFullYear(end.getFullYear()+dir);start.setMonth(0);start.setDate(1);end.setFullYear(end.getFullYear()+dir);end.setMonth(11);end.setDate(31)}else if(shortcut=='custom'){var name=$(this).html();if(opt.customShortcuts&&opt.customShortcuts.length>0){for(var i=0;i<opt.customShortcuts.length;i++){var sh=opt.customShortcuts[i];if(sh.name==name){var data=[];data=sh['dates'].call();if(data&&data.length==2){start=data[0];end=data[1]}if(data&&data.length==1){movetodate=data[0];showMonth(movetodate,'month1');showMonth(nextMonth(movetodate),'month2');showGap()}break}}}}if(start&&end){setDateRange(start,end);checkSelectionValid()}});box.find(".time1 input[type=range]").bind("change touchmove mousemove",function(e){var target=e.target,hour=target.name=="hour"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined,min=target.name=="minute"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined;setTime("time1",hour,min)});box.find(".time2 input[type=range]").bind("change touchmove mousemove",function(e){var target=e.target,hour=target.name=="hour"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined,min=target.name=="minute"?$(target).val().replace(/^(\d{1})$/,"0$1"):undefined;setTime("time2",hour,min)})}function calcPosition(){if(!opt.inline){var offset=$(self).offset();if($(opt.container).css("position")=="relative"){var containerOffset=$(opt.container).offset();box.css({top:offset.top-containerOffset.top+$(self).outerHeight()+4,left:offset.left-containerOffset.left})}else{if(offset.left<460){box.css({top:offset.top+$(self).outerHeight()+parseInt($('body').css('border-top')||0,10),left:offset.left})}else{box.css({top:offset.top+$(self).outerHeight()+parseInt($('body').css('border-top')||0,10),left:offset.left+$(self).width()-box.width()-16})}}}}function getDatePicker(){return box}function open(animationTime){calcPosition();redrawDatePicker();checkAndSetDefaultValue();if(opt.customOpenAnimation){opt.customOpenAnimation.call(box.get(0),function(){$(self).trigger('datepicker-opened',{relatedTarget:box})})}else{box.slideDown(animationTime,function(){$(self).trigger('datepicker-opened',{relatedTarget:box})})}$(self).trigger('datepicker-open',{relatedTarget:box});showGap();updateCalendarWidth()}function checkAndSetDefaultValue(){var __default_string=opt.getValue.call(selfDom);var defaults=__default_string?__default_string.split(opt.separator):'';if(defaults&&((defaults.length==1&&opt.singleDate)||defaults.length>=2)){var ___format=opt.format;if(___format.match(/Do/)){___format=___format.replace(/Do/,'D');defaults[0]=defaults[0].replace(/(\d+)(th|nd|st)/,'$1');if(defaults.length>=2){defaults[1]=defaults[1].replace(/(\d+)(th|nd|st)/,'$1')}}initiated=false;if(defaults.length>=2){setDateRange(moment(defaults[0],___format,moment.locale(opt.language)).toDate(),moment(defaults[1],___format,moment.locale(opt.language)).toDate())}else if(defaults.length==1&&opt.singleDate){setSingleDate(moment(defaults[0],___format,moment.locale(opt.language)).toDate())}initiated=true}}function updateCalendarWidth(){var gapMargin=box.find('.gap').css('margin-left');if(gapMargin)gapMargin=parseInt(gapMargin);var w1=box.find('.month1').width();var w2=box.find('.gap').width()+(gapMargin?gapMargin*2:0);var w3=box.find('.month2').width();box.find('.month-wrapper').width(w1+w2+w3)}function renderTime(name,date){box.find("."+name+" input[type=range].hour-range").val(moment(date).hours());box.find("."+name+" input[type=range].minute-range").val(moment(date).minutes());setTime(name,moment(date).format("HH"),moment(date).format("mm"))}function changeTime(name,date){opt[name]=parseInt(moment(parseInt(date)).startOf('day').add(moment(opt[name+"Time"]).format("HH"),'h').add(moment(opt[name+"Time"]).format("mm"),'m').valueOf())}function swapTime(){renderTime("time1",opt.start);renderTime("time2",opt.end)}function setTime(name,hour,minute){hour&&(box.find("."+name+" .hour-val").text(hour));minute&&(box.find("."+name+" .minute-val").text(minute));switch(name){case"time1":if(opt.start){setRange("start",moment(opt.start))}setRange("startTime",moment(opt.startTime||moment().valueOf()));break;case"time2":if(opt.end){setRange("end",moment(opt.end))}setRange("endTime",moment(opt.endTime||moment().valueOf()));break}function setRange(name,timePoint){var h=timePoint.format("HH"),m=timePoint.format("mm");opt[name]=timePoint.startOf('day').add(hour||h,"h").add(minute||m,"m").valueOf()}checkSelectionValid();showSelectedInfo();showSelectedDays()}function clearSelection(){opt.start=false;opt.end=false;box.find('.day.checked').removeClass('checked');box.find('.day.last-date-selected').removeClass('last-date-selected');box.find('.day.first-date-selected').removeClass('first-date-selected');opt.setValue.call(selfDom,'');checkSelectionValid();showSelectedInfo();showSelectedDays()}function handleStart(time){var r=time;if(opt.batchMode==='week-range'){if(opt.startOfWeek==='monday'){r=moment(parseInt(time)).startOf('isoweek').valueOf()}else{r=moment(parseInt(time)).startOf('week').valueOf()}}else if(opt.batchMode==='month-range'){r=moment(parseInt(time)).startOf('month').valueOf()}return r}function handleEnd(time){var r=time;if(opt.batchMode==='week-range'){if(opt.startOfWeek==='monday'){r=moment(parseInt(time)).endOf('isoweek').valueOf()}else{r=moment(parseInt(time)).endOf('week').valueOf()}}else if(opt.batchMode==='month-range'){r=moment(parseInt(time)).endOf('month').valueOf()}return r}function dayClicked(day){if(day.hasClass('invalid'))return;var time=day.attr('time');day.addClass('checked');if(opt.singleDate){opt.start=time;opt.end=false}else if(opt.batchMode==='week'){if(opt.startOfWeek==='monday'){opt.start=moment(parseInt(time)).startOf('isoweek').valueOf();opt.end=moment(parseInt(time)).endOf('isoweek').valueOf()}else{opt.end=moment(parseInt(time)).endOf('week').valueOf();opt.start=moment(parseInt(time)).startOf('week').valueOf()}}else if(opt.batchMode==='workweek'){opt.start=moment(parseInt(time)).day(1).valueOf();opt.end=moment(parseInt(time)).day(5).valueOf()}else if(opt.batchMode==='weekend'){opt.start=moment(parseInt(time)).day(6).valueOf();opt.end=moment(parseInt(time)).day(7).valueOf()}else if(opt.batchMode==='month'){opt.start=moment(parseInt(time)).startOf('month').valueOf();opt.end=moment(parseInt(time)).endOf('month').valueOf()}else if((opt.start&&opt.end)||(!opt.start&&!opt.end)){opt.start=handleStart(time);opt.end=false}else if(opt.start){opt.end=handleEnd(time);if(opt.time.enabled){changeTime("end",opt.end)}}if(opt.time.enabled){if(opt.start){changeTime("start",opt.start)}if(opt.end){changeTime("end",opt.end)}}if(!opt.singleDate&&opt.start&&opt.end&&opt.start>opt.end){var tmp=opt.end;opt.end=handleEnd(opt.start);opt.start=handleStart(tmp);if(opt.time.enabled&&opt.swapTime){swapTime()}}opt.start=parseInt(opt.start);opt.end=parseInt(opt.end);clearHovering();if(opt.start&&!opt.end){$(self).trigger('datepicker-first-date-selected',{'date1':new Date(opt.start)});dayHovering(day)}updateSelectableRange(time);checkSelectionValid();showSelectedInfo();showSelectedDays();autoclose()}function weekNumberClicked(weekNumberDom){var thisTime=parseInt(weekNumberDom.attr('data-start-time'),10);if(!opt.startWeek){opt.startWeek=thisTime;weekNumberDom.addClass('week-number-selected');var date1=new Date(thisTime);opt.start=moment(date1).day(opt.startOfWeek=='monday'?1:0).toDate();opt.end=moment(date1).day(opt.startOfWeek=='monday'?7:6).toDate()}else{box.find('.week-number-selected').removeClass('week-number-selected');var date1=new Date(thisTime<opt.startWeek?thisTime:opt.startWeek);var date2=new Date(thisTime<opt.startWeek?opt.startWeek:thisTime);opt.startWeek=false;opt.start=moment(date1).day(opt.startOfWeek=='monday'?1:0).toDate();opt.end=moment(date2).day(opt.startOfWeek=='monday'?7:6).toDate()}updateSelectableRange();checkSelectionValid();showSelectedInfo();showSelectedDays();autoclose()}function isValidTime(time){time=parseInt(time,10);if(opt.startDate&&compare_day(time,opt.startDate)<0)return false;if(opt.endDate&&compare_day(time,opt.endDate)>0)return false;if(opt.start&&!opt.end&&!opt.singleDate){if(opt.maxDays>0&&countDays(time,opt.start)>opt.maxDays)return false;if(opt.minDays>0&&countDays(time,opt.start)<opt.minDays)return false;if(opt.selectForward&&time<opt.start)return false;if(opt.selectBackward&&time>opt.start)return false;if(opt.beforeShowDay&&typeof opt.beforeShowDay=='function'){var valid=true;var timeTmp=time;while(countDays(timeTmp,opt.start)>1){var arr=opt.beforeShowDay(new Date(timeTmp));if(!arr[0]){valid=false;break}if(Math.abs(timeTmp-opt.start)<86400000)break;if(timeTmp>opt.start)timeTmp-=86400000;if(timeTmp<opt.start)timeTmp+=86400000}if(!valid)return false}}return true}function updateSelectableRange(){box.find('.day.invalid.tmp').removeClass('tmp invalid').addClass('valid');if(opt.start&&!opt.end){box.find('.day.toMonth.valid').each(function(){var time=parseInt($(this).attr('time'),10);if(!isValidTime(time))$(this).addClass('invalid tmp').removeClass('valid');else $(this).addClass('valid tmp').removeClass('invalid')})}return true}function dayHovering(day){var hoverTime=parseInt(day.attr('time'));var tooltip='';if(day.hasClass('has-tooltip')&&day.attr('data-tooltip')){tooltip='<span style="white-space:nowrap">'+day.attr('data-tooltip')+'</span>'}else if(!day.hasClass('invalid')){if(opt.singleDate){box.find('.day.hovering').removeClass('hovering');day.addClass('hovering')}else{box.find('.day').each(function(){var time=parseInt($(this).attr('time')),start=opt.start,end=opt.end;if(time==hoverTime){$(this).addClass('hovering')}else{$(this).removeClass('hovering')}if((opt.start&&!opt.end)&&((opt.start<time&&hoverTime>=time)||(opt.start>time&&hoverTime<=time))){$(this).addClass('hovering')}else{$(this).removeClass('hovering')}});if(opt.start&&!opt.end){var days=countDays(hoverTime,opt.start);if(opt.hoveringTooltip){if(typeof opt.hoveringTooltip=='function'){tooltip=opt.hoveringTooltip(days,opt.start,hoverTime)}else if(opt.hoveringTooltip===true&&days>1){tooltip=days+' '+lang('days')}}}}}if(tooltip){var posDay=day.offset();var posBox=box.offset();var _left=posDay.left-posBox.left;var _top=posDay.top-posBox.top;_left+=day.width()/2;var $tip=box.find('.date-range-length-tip');var w=$tip.css({'visibility':'hidden','display':'none'}).html(tooltip).width();var h=$tip.height();_left-=w/2;_top-=h;setTimeout(function(){$tip.css({left:_left,top:_top,display:'block','visibility':'visible'})},10)}else{box.find('.date-range-length-tip').hide()}}function clearHovering(){box.find('.day.hovering').removeClass('hovering');box.find('.date-range-length-tip').hide()}function autoclose(){if(opt.singleDate===true){if(initiated&&opt.start){if(opt.autoClose)closeDatePicker()}}else{if(initiated&&opt.start&&opt.end){if(opt.autoClose)closeDatePicker()}}}function checkSelectionValid(){var days=Math.ceil((opt.end-opt.start)/86400000)+1;if(opt.singleDate){if(opt.start&&!opt.end)box.find('.drp_top-bar').removeClass('error').addClass('normal');else box.find('.drp_top-bar').removeClass('error').removeClass('normal')}else if(opt.maxDays&&days>opt.maxDays){opt.start=false;opt.end=false;box.find('.day').removeClass('checked');box.find('.drp_top-bar').removeClass('normal').addClass('error').find('.error-top').html(lang('less-than').replace('%d',opt.maxDays))}else if(opt.minDays&&days<opt.minDays){opt.start=false;opt.end=false;box.find('.day').removeClass('checked');box.find('.drp_top-bar').removeClass('normal').addClass('error').find('.error-top').html(lang('more-than').replace('%d',opt.minDays))}else{if(opt.start||opt.end)box.find('.drp_top-bar').removeClass('error').addClass('normal');else box.find('.drp_top-bar').removeClass('error').removeClass('normal')}if((opt.singleDate&&opt.start&&!opt.end)||(!opt.singleDate&&opt.start&&opt.end)){box.find('.apply-btn').removeClass('disabled')}else{box.find('.apply-btn').addClass('disabled')}if(opt.batchMode){if((opt.start&&opt.startDate&&compare_day(opt.start,opt.startDate)<0)||(opt.end&&opt.endDate&&compare_day(opt.end,opt.endDate)>0)){opt.start=false;opt.end=false;box.find('.day').removeClass('checked')}}}function showSelectedInfo(forceValid,silent){box.find('.start-day').html('...');box.find('.end-day').html('...');box.find('.selected-days').hide();if(opt.start){box.find('.start-day').html(getDateString(new Date(parseInt(opt.start))))}if(opt.end){box.find('.end-day').html(getDateString(new Date(parseInt(opt.end))))}if(opt.start&&opt.singleDate){box.find('.apply-btn').removeClass('disabled');var dateRange=getDateString(new Date(opt.start));opt.setValue.call(selfDom,dateRange,getDateString(new Date(opt.start)),getDateString(new Date(opt.end)));if(initiated&&!silent){$(self).trigger('datepicker-change',{'value':dateRange,'date1':new Date(opt.start)})}}else if(opt.start&&opt.end){box.find('.selected-days').show().find('.selected-days-num').html(countDays(opt.end,opt.start));box.find('.apply-btn').removeClass('disabled');var dateRange=getDateString(new Date(opt.start))+opt.separator+getDateString(new Date(opt.end));opt.setValue.call(selfDom,dateRange,getDateString(new Date(opt.start)),getDateString(new Date(opt.end)));if(initiated&&!silent){$(self).trigger('datepicker-change',{'value':dateRange,'date1':new Date(opt.start),'date2':new Date(opt.end)})}}else if(forceValid){box.find('.apply-btn').removeClass('disabled')}else{box.find('.apply-btn').addClass('disabled')}}function countDays(start,end){return Math.abs(daysFrom1970(start)-daysFrom1970(end))+1}function setDateRange(date1,date2,silent){if(date1.getTime()>date2.getTime()){var tmp=date2;date2=date1;date1=tmp;tmp=null}var valid=true;if(opt.startDate&&compare_day(date1,opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(date2,opt.endDate)>0)valid=false;if(!valid){showMonth(opt.startDate,'month1');showMonth(nextMonth(opt.startDate),'month2');showGap();return}opt.start=date1.getTime();opt.end=date2.getTime();if(opt.time.enabled){renderTime("time1",date1);renderTime("time2",date2)}if(opt.stickyMonths||(compare_day(date1,date2)>0&&compare_month(date1,date2)==0)){if(opt.lookBehind){date1=prevMonth(date2)}else{date2=nextMonth(date1)}}if(opt.stickyMonths&&compare_month(date2,opt.endDate)>0){date1=prevMonth(date1);date2=prevMonth(date2)}if(!opt.stickyMonths){if(compare_month(date1,date2)==0){if(opt.lookBehind){date1=prevMonth(date2)}else{date2=nextMonth(date1)}}}showMonth(date1,'month1');showMonth(date2,'month2');showGap();checkSelectionValid();showSelectedInfo(false,silent);autoclose()}function setSingleDate(date1){var valid=true;if(opt.startDate&&compare_day(date1,opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(date1,opt.endDate)>0)valid=false;if(!valid){showMonth(opt.startDate,'month1');return}opt.start=date1.getTime();if(opt.time.enabled){renderTime("time1",date1)}showMonth(date1,'month1');showGap();showSelectedInfo();autoclose()}function showSelectedDays(){if(!opt.start&&!opt.end)return;box.find('.day').each(function(){var time=parseInt($(this).attr('time')),start=opt.start,end=opt.end;if(opt.time.enabled){time=moment(time).startOf('day').valueOf();start=moment(start||moment().valueOf()).startOf('day').valueOf();end=moment(end||moment().valueOf()).startOf('day').valueOf()}if((opt.start&&opt.end&&end>=time&&start<=time)||(opt.start&&!opt.end&&moment(start).format('YYYY-MM-DD')==moment(time).format('YYYY-MM-DD'))){$(this).addClass('checked')}else{$(this).removeClass('checked')}if(opt.start&&moment(start).format('YYYY-MM-DD')==moment(time).format('YYYY-MM-DD')){$(this).addClass('first-date-selected')}else{$(this).removeClass('first-date-selected')}if(opt.end&&moment(end).format('YYYY-MM-DD')==moment(time).format('YYYY-MM-DD')){$(this).addClass('last-date-selected')}else{$(this).removeClass('last-date-selected')}});box.find('.week-number').each(function(){if($(this).attr('data-start-time')==opt.startWeek){$(this).addClass('week-number-selected')}})}function showMonth(date,month){date=moment(date).toDate();var monthName=nameMonth(date.getMonth());box.find('.'+month+' .month-name').html(monthName+' '+date.getFullYear());box.find('.'+month+' tbody').html(createMonthHTML(date));opt[month]=date;updateSelectableRange()}function showTime(date,name){box.find('.'+name).append(getTimeHTML());renderTime(name,date)}function nameMonth(m){return lang('month-name')[m]}function getDateString(d){return moment(d).format(opt.format)}function showGap(){showSelectedDays();var m1=parseInt(moment(opt.month1).format('YYYYMM'));var m2=parseInt(moment(opt.month2).format('YYYYMM'));var p=Math.abs(m1-m2);var shouldShow=(p>1&&p!=89);if(shouldShow){box.addClass('has-gap').removeClass('no-gap').find('.gap').css('visibility','visible')}else{box.removeClass('has-gap').addClass('no-gap').find('.gap').css('visibility','hidden')}var h1=box.find('table.month1').height();var h2=box.find('table.month2').height();box.find('.gap').height(Math.max(h1,h2)+10)}function closeDatePicker(){if(opt.alwaysOpen)return;var afterAnim=function(){$(self).data('date-picker-opened',false);$(self).trigger('datepicker-closed',{relatedTarget:box})};if(opt.customCloseAnimation){opt.customCloseAnimation.call(box.get(0),afterAnim)}else{$(box).slideUp(opt.duration,afterAnim)}$(self).trigger('datepicker-close',{relatedTarget:box})}function redrawDatePicker(){showMonth(opt.month1,'month1');showMonth(opt.month2,'month2')}function compare_month(m1,m2){var p=parseInt(moment(m1).format('YYYYMM'))-parseInt(moment(m2).format('YYYYMM'));if(p>0)return 1;if(p==0)return 0;return-1}function compare_day(m1,m2){var p=parseInt(moment(m1).format('YYYYMMDD'))-parseInt(moment(m2).format('YYYYMMDD'));if(p>0)return 1;if(p==0)return 0;return-1}function nextMonth(month){return moment(month).add(1,'months').toDate()}function prevMonth(month){return moment(month).add(-1,'months').toDate()}function getTimeHTML(){return'<div>	<span>'+lang('Time')+': <span class="hour-val">00</span>:<span class="minute-val">00</span></span></div><div class="hour">	<label>'+lang('Hour')+': <input type="range" class="hour-range" name="hour" min="0" max="23"></label></div><div class="minute">	<label>'+lang('Minute')+': <input type="range" class="minute-range" name="minute" min="0" max="59"></label></div>'}function createDom(){var html='<div class="date-picker-wrapper';if(opt.extraClass)html+=' '+opt.extraClass+' ';if(opt.singleDate)html+=' single-date ';if(!opt.showShortcuts)html+=' no-shortcuts ';if(!opt.showTopbar)html+=' no-topbar ';if(opt.customTopBar)html+=' custom-topbar ';html+='">';if(opt.showTopbar){html+='<div class="drp_top-bar">';if(opt.customTopBar){if(typeof opt.customTopBar=='function')opt.customTopBar=opt.customTopBar();html+='<div class="custom-top">'+opt.customTopBar+'</div>'}else{html+='<div class="normal-top">		<span style="color:#333">'+lang('selected')+' </span> <b class="start-day">...</b>';if(!opt.singleDate){html+=' <span class="separator-day">'+opt.separator+'</span> <b class="end-day">...</b> <i class="selected-days">(<span class="selected-days-num">3</span> '+lang('days')+')</i>'}html+='</div>';html+='<div class="error-top">error</div>	<div class="default-top">default</div>'}html+='<input type="button" class="apply-btn disabled'+getApplyBtnClass()+'" value="'+lang('apply')+'" />';html+='</div>'}var _colspan=opt.showWeekNumbers?6:5;html+='<div class="month-wrapper"><table class="month1" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;"><span class="prev">&lt;</span></th><th colspan="'+_colspan+'" class="month-name"></th><th style="width:27px;">'+(opt.singleDate||!opt.stickyMonths?'<span class="next">&gt;</span>':'')+'</th></tr><tr class="week-name">'+getWeekHead()+'</thead><tbody></tbody></table>';if(hasMonth2()){html+='<div class="gap">'+getGapHTML()+'</div><table class="month2" cellspacing="0" border="0" cellpadding="0"><thead><tr class="caption"><th style="width:27px;">'+(!opt.stickyMonths?'<span class="prev">&lt;</span>':'')+'</th><th colspan="'+_colspan+'" class="month-name"></th><th style="width:27px;"><span class="next">&gt;</span></th></tr><tr class="week-name">'+getWeekHead()+'</thead><tbody></tbody></table>'}html+='<div style="clear:both;height:0;font-size:0;"></div><div class="time"><div class="time1"></div>';if(!opt.singleDate){html+='<div class="time2"></div>'}html+='</div><div style="clear:both;height:0;font-size:0;"></div></div>';html+='<div class="footer">';if(opt.showShortcuts){html+='<div class="shortcuts"><b>'+lang('shortcuts')+'</b>';var data=opt.shortcuts;if(data){if(data['prev-days']&&data['prev-days'].length>0){html+='&nbsp;<span class="prev-days">'+lang('past');for(var i=0;i<data['prev-days'].length;i++){var name=data['prev-days'][i];name+=(data['prev-days'][i]>1)?lang('days'):lang('day');html+=' <a href="javascript:;" shortcut="day,-'+data['prev-days'][i]+'">'+name+'</a>'}html+='</span>'}if(data['next-days']&&data['next-days'].length>0){html+='&nbsp;<span class="next-days">'+lang('following');for(var i=0;i<data['next-days'].length;i++){var name=data['next-days'][i];name+=(data['next-days'][i]>1)?lang('days'):lang('day');html+=' <a href="javascript:;" shortcut="day,'+data['next-days'][i]+'">'+name+'</a>'}html+='</span>'}if(data['prev']&&data['prev'].length>0){html+='&nbsp;<span class="prev-buttons">'+lang('previous');for(var i=0;i<data['prev'].length;i++){var name=lang('prev-'+data['prev'][i]);html+=' <a href="javascript:;" shortcut="prev,'+data['prev'][i]+'">'+name+'</a>'}html+='</span>'}if(data['next']&&data['next'].length>0){html+='&nbsp;<span class="next-buttons">'+lang('next');for(var i=0;i<data['next'].length;i++){var name=lang('next-'+data['next'][i]);html+=' <a href="javascript:;" shortcut="next,'+data['next'][i]+'">'+name+'</a>'}html+='</span>'}}if(opt.customShortcuts){for(var i=0;i<opt.customShortcuts.length;i++){var sh=opt.customShortcuts[i];html+='&nbsp;<span class="custom-shortcut"><a href="javascript:;" shortcut="custom">'+sh.name+'</a></span>'}}html+='</div>'}if(opt.showCustomValues){html+='<div class="customValues"><b>'+(opt.customValueLabel||lang('custom-values'))+'</b>';if(opt.customValues){for(var i=0;i<opt.customValues.length;i++){var val=opt.customValues[i];html+='&nbsp;<span class="custom-value"><a href="javascript:;" custom="'+val.value+'">'+val.name+'</a></span>'}}}html+='</div></div>';return $(html)}function getApplyBtnClass(){var klass='';if(opt.autoClose===true){klass+=' hide'}if(opt.applyBtnClass!==''){klass+=' '+opt.applyBtnClass}return klass}function getWeekHead(){var prepend=opt.showWeekNumbers?'<th>'+lang('week-number')+'</th>':'';if(opt.startOfWeek=='monday'){return prepend+'<th>'+lang('week-1')+'</th><th>'+lang('week-2')+'</th><th>'+lang('week-3')+'</th><th>'+lang('week-4')+'</th><th>'+lang('week-5')+'</th><th>'+lang('week-6')+'</th><th>'+lang('week-7')+'</th>'}else{return prepend+'<th>'+lang('week-7')+'</th><th>'+lang('week-1')+'</th><th>'+lang('week-2')+'</th><th>'+lang('week-3')+'</th><th>'+lang('week-4')+'</th><th>'+lang('week-5')+'</th><th>'+lang('week-6')+'</th>'}}function isMonthOutOfBounds(month){var month=moment(month);if(opt.startDate&&month.endOf('month').isBefore(opt.startDate)){return true}if(opt.endDate&&month.startOf('month').isAfter(opt.endDate)){return true}return false}function getGapHTML(){var html=['<div class="gap-top-mask"></div><div class="gap-bottom-mask"></div><div class="gap-lines">'];for(var i=0;i<20;i++){html.push('<div class="gap-line"><div class="gap-1"></div><div class="gap-2"></div><div class="gap-3"></div></div>')}html.push('</div>');return html.join('')}function hasMonth2(){return(!opt.singleDate&&!opt.singleMonth)}function attributesCallbacks(initialObject,callbacksArray,today){var resultObject=jQuery.extend(true,{},initialObject);jQuery.each(callbacksArray,function(cbAttrIndex,cbAttr){var addAttributes=cbAttr(today);for(var attr in addAttributes){if(resultObject.hasOwnProperty(attr)){resultObject[attr]+=addAttributes[attr]}else{resultObject[attr]=addAttributes[attr]}}});var attrString='';for(var attr in resultObject){if(resultObject.hasOwnProperty(attr)){attrString+=attr+'="'+resultObject[attr]+'" '}}return attrString}function daysFrom1970(t){return Math.floor(toLocalTimestamp(t)/86400000)}function toLocalTimestamp(t){if(moment.isMoment(t))t=t.toDate().getTime();if(typeof t=='object'&&t.getTime)t=t.getTime();if(typeof t=='string'&&!t.match(/\d{13}/))t=moment(t,opt.format).toDate().getTime();t=parseInt(t,10)-new Date().getTimezoneOffset()*60*1000;return t}function createMonthHTML(d){var days=[];d.setDate(1);var lastMonth=new Date(d.getTime()-86400000);var now=new Date();var dayOfWeek=d.getDay();if((dayOfWeek==0)&&(opt.startOfWeek=='monday')){dayOfWeek=7}if(dayOfWeek>0){for(var i=dayOfWeek;i>0;i--){var day=new Date(d.getTime()-86400000*i);var valid=isValidTime(day.getTime());if(opt.startDate&&compare_day(day,opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(day,opt.endDate)>0)valid=false;days.push({date:day,type:'lastMonth',day:day.getDate(),time:day.getTime(),valid:valid})}}var toMonth=d.getMonth();for(var i=0;i<40;i++){var today=moment(d).add(i,'days').toDate();var valid=isValidTime(today.getTime());if(opt.startDate&&compare_day(today,opt.startDate)<0)valid=false;if(opt.endDate&&compare_day(today,opt.endDate)>0)valid=false;days.push({date:today,type:today.getMonth()==toMonth?'toMonth':'nextMonth',day:today.getDate(),time:today.getTime(),valid:valid})}var html=[];for(var week=0;week<6;week++){if(days[week*7].type=='nextMonth')break;html.push('<tr>');for(var day=0;day<7;day++){var _day=(opt.startOfWeek=='monday')?day+1:day;var today=days[week*7+_day];var highlightToday=moment(today.time).format('L')==moment(now).format('L');today.extraClass='';today.tooltip='';if(today.valid&&opt.beforeShowDay&&typeof opt.beforeShowDay=='function'){var _r=opt.beforeShowDay(moment(today.time).toDate());today.valid=_r[0];today.extraClass=_r[1]||'';today.tooltip=_r[2]||'';if(today.tooltip!='')today.extraClass+=' has-tooltip '}var todayDivAttr={time:today.time,'data-tooltip':today.tooltip,'class':'day '+today.type+' '+today.extraClass+' '+(today.valid?'valid':'invalid')+' '+(highlightToday?'real-today':'')};if(day==0&&opt.showWeekNumbers){html.push('<td><div class="week-number" data-start-time="'+today.time+'">'+opt.getWeekNumber(today.date)+'</div></td>')}html.push('<td '+attributesCallbacks({},opt.dayTdAttrs,today)+'><div '+attributesCallbacks(todayDivAttr,opt.dayDivAttrs,today)+'>'+showDayHTML(today.time,today.day)+'</div></td>')}html.push('</tr>')}return html.join('')}function showDayHTML(time,date){if(opt.showDateFilter&&typeof opt.showDateFilter=='function')return opt.showDateFilter(time,date);return date}function getLanguages(){if(opt.language=='auto'){var language=navigator.language?navigator.language:navigator.browserLanguage;if(!language)return $.dateRangePickerLanguages['default'];var language=language.toLowerCase();for(var key in $.dateRangePickerLanguages){if(language.indexOf(key)!=-1){return $.dateRangePickerLanguages[key]}}return $.dateRangePickerLanguages['default']}else if(opt.language&&opt.language in $.dateRangePickerLanguages){return $.dateRangePickerLanguages[opt.language]}else{return $.dateRangePickerLanguages['default']}}function lang(t){var _t=t.toLowerCase();var re=(t in langs)?langs[t]:(_t in langs)?langs[_t]:null;var defaultLanguage=$.dateRangePickerLanguages['default'];if(re==null)re=(t in defaultLanguage)?defaultLanguage[t]:(_t in defaultLanguage)?defaultLanguage[_t]:'';return re}}}));


