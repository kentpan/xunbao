
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Lwolf" name="author">
<title>jQuery瀑布流布局插件Grid-A-Licious - xw素材网</title>
<link rel="stylesheet" href="css.css">
</head>
<body>
<div class="content">
  <div id="device" class="gridalicious">
    <div class="galcolumn">
      <div class="item"><img src="images/1.jpg"/><p>xw素材网1</p></div>
      <div class="item"><img src="images/2.jpg"/><p>xw素材网2</p></div>
      <div class="item"><img src="images/3.jpg"/><p>xw素材网3</p></div>
      <div class="item"><img src="images/4.jpg"/><p>xw素材网4</p></div>
      <div class="item"><img src="images/5.jpg"/><p>xw素材网5</p></div>
      <div class="item"><img src="images/6.jpg"/><p>xw素材网6</p></div>
      <div class="item"><img src="images/7.jpg"/><p>xw素材网7</p></div>
      <div class="item"><img src="images/8.jpg"/><p>xw素材网8</p></div>
      <div class="item"><img src="images/9.jpg"/><p>xw素材网</p></div>
      <div class="item"><img src="images/10.jpg"/><p>xw素材网</p></div>
      <div class="item"><img src="images/4.jpg"/><p>xw素材网</p></div>
      <div class="item"><img src="images/5.jpg"/><p>xw素材网</p></div>
      <div class="item"><img src="images/6.jpg"/><p>xw素材网</p></div>
      <div class="item"><img src="images/7.jpg"/><p>xw素材网</p></div>
      <div class="item"><img src="images/8.jpg"/><p>xw素材网</p></div>
    </div>
  </div>
</div>
<script src="jquery-1.8.3.min.js"></script> 
<script src="jquery.grid-a-licious.min.js"></script> 
<script type="text/javascript">
            //模拟滚动条滚动时随机添加内容
            makeboxes = function() {
                var boxes = [];   
                var randTxt = ['xw素材网 - www.xwcms.net','xw素材网JS代码免费下载'];
                var amount = Math.floor(Math.random()*10); 
                for(i=1;i<amount;i++){
                    num = Math.floor(Math.random()*randTxt.length); 
                    div = $('<a class="item"></a>');
                    content = "<img src='images/"+i+".jpg'/><p>"+randTxt[num]+"</p>";
                    div.append(content);
                    boxes.push(div);
                }
                return boxes;
            }
            //滚动条事件
            $(document).ready(function () {         
                $(window).scroll(function () {
                    console.log($(window).scrollTop() , $(window).height(), $(document).height());
                    if (($(window).scrollTop() + $(window).height()) === $(document).height() - 1) {
                        $("#device").gridalicious('append', makeboxes());
                    }
            });
            var dom = $("#device");
            var w = dom.width() / 2 - 40;
            console.log(w);
            //主要部分
            dom.gridalicious({
                gutter: 20,
                width: w,
                animate: true,
                animationOptions: {
                        speed: 150,
                        duration: 400,
                        complete:function(data){
                            console.log("xw素材网 -www.xwcms.net");    
                        }
                },
            });
        });
    </script>
</body>
</html>
